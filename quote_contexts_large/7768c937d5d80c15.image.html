<!doctype html>
<html lang="en"><head><meta charset="utf-8"><title>Image Context 7768c937d5d80c15</title>
<style>
body{font:14px/1.4 -apple-system,Segoe UI,Roboto,sans-serif;max-width:900px;margin:24px auto;padding:0 16px;color:#222}
h1{font-size:18px;margin:0 0 12px 0}
h2{font-size:16px;margin:16px 0 8px}
h3{font-size:14px;margin:10px 0 4px}
code,pre{background:#f6f8fa;padding:2px 4px;border-radius:4px}
figure{margin:10px 0;padding:8px;border:1px solid #e6e6e6;border-radius:8px}
figcaption{color:#555;font-size:12px;margin-top:6px}
pre {
  white-space: pre-wrap;     /* allow wrapping inside <pre> */
  overflow-wrap: anywhere;   /* break very long words/URLs */
  word-break: break-word;    /* fallback for older engines */
  max-width: 68ch;           /* ~68 characters line length */
  margin: 0 auto 10px;       /* center the block */
  line-height: 1.5;
}

figcaption {
  max-width: 68ch;           /* keep the sentence narrow */
  margin: 6px auto 0;        /* center under the image */
  white-space: normal;       /* ensure wrapping */
  overflow-wrap: anywhere;
  word-break: break-word;
  line-height: 1.5;
}
</style>
</head><body>
  <h1>Image context</h1>
  <p><strong>Search input:</strong></p>
  <pre>. . the floor. Thats right. The floor. Its typically the largest horizontal surface in the room and undeniably the most used.</pre>
  <p><strong>Search mode:</strong> paragraph_v &nbsp; <strong>Targeting:</strong> 1.5×</p>

  <h2>Selected image</h2>
  <figure>
    <img src="https://pd12m.s3.us-west-2.amazonaws.com/images/ca627d45-c9c9-57bb-ac1c-cbed3438c46e.jpeg" alt="" style="max-width:100%;height:auto;">
    <figcaption>Region 0 — plainclothes, sunlight, transcendental, introspective</figcaption>
  </figure>

  <h2>All regions</h2>
  <section style="margin:16px 0;"><h3 style="margin:6px 0;">Region 0 — horticulture, event, celebratory, garden, faculty, transcendental, humidity, horticulture, tranquil, garden, chancellor, plainclothes, faculty, president, bust, president, smirk, smugly, shes, unsettling, sportsman, overjoyed, celebratory, bust, event, wing, shes, plainclothes, calla, hacker, technician, domain, dispatcher, homely, sleepiness, repairman, despondent, repairman, sportsman, technician, domain, sunlight, transcendental, humidity, tranquil, chancellor, smugly, catholic, president, calla, motto, faculty, catholic, faculty, wing, motto, advising, sleepiness, event, advising, faculty, tranquil, horticulture, homely, strudel, plainclothes, sunlight, transcendental, introspective, celebratory, event, strudel, tossing, smirk, smugly, bust, introspective, dispatcher, biologist, technician, faculty, sportsman, celebratory, case, event, overjoyed</h3><ul style="margin:6px 0 0 18px;"><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/ffbd32bc-d42b-5cae-9ac8-ba2e6a42c305.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/ffbd32bc-d42b-5cae-9ac8-ba2e6a42c305.jpeg</a> — horticulture, event, celebratory, garden, faculty</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/5bd824db-ff81-5a01-905a-29afe0b250ef.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/5bd824db-ff81-5a01-905a-29afe0b250ef.jpeg</a> — transcendental, humidity, horticulture, tranquil, garden</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/3a95672c-f4c9-5c17-aa6e-fafb36db6d57.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/3a95672c-f4c9-5c17-aa6e-fafb36db6d57.jpeg</a> — chancellor, plainclothes, faculty, president, bust</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/e448b1bf-f1cf-56ca-acbe-debdc72db808.png" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/e448b1bf-f1cf-56ca-acbe-debdc72db808.png</a> — president, smirk, smugly, shes, unsettling</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/48514348-cdf2-5ddf-9d75-ded0b4aeb08e.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/48514348-cdf2-5ddf-9d75-ded0b4aeb08e.jpeg</a> — sportsman, overjoyed, celebratory, bust, event</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/8f7d68d6-2ddc-53d8-a945-99b90d1d244b.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/8f7d68d6-2ddc-53d8-a945-99b90d1d244b.jpeg</a> — wing, shes, plainclothes, calla</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/485be79e-1384-52d4-bcde-73cc7c756e83.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/485be79e-1384-52d4-bcde-73cc7c756e83.jpeg</a> — hacker, technician, domain, dispatcher</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/30356f04-84fb-5f7c-9138-5537a2ad7234.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/30356f04-84fb-5f7c-9138-5537a2ad7234.jpeg</a> — homely, sleepiness, repairman, despondent</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/11d7a3c0-f3d0-5389-ac5e-ca504816afef.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/11d7a3c0-f3d0-5389-ac5e-ca504816afef.jpeg</a> — repairman, sportsman, technician, domain</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/55e574dc-236d-592f-9188-379a20426929.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/55e574dc-236d-592f-9188-379a20426929.jpeg</a> — sunlight, transcendental, humidity, tranquil</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/82ebced1-a36d-55a9-9ea4-acc9d47ff034.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/82ebced1-a36d-55a9-9ea4-acc9d47ff034.jpeg</a> — chancellor, smugly, catholic, president</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/80bb9f6e-ed6a-5c73-86f7-a8e54cba192d.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/80bb9f6e-ed6a-5c73-86f7-a8e54cba192d.jpeg</a> — calla, motto, faculty, catholic</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/0b8691db-c784-5ce1-860b-f6dfa7c7edbc.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/0b8691db-c784-5ce1-860b-f6dfa7c7edbc.jpeg</a> — faculty, wing, motto, advising</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/f3ad8a8e-596f-5ff1-b546-90166518bad5.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/f3ad8a8e-596f-5ff1-b546-90166518bad5.jpeg</a> — sleepiness, event, advising, faculty</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/92a769b5-6554-5660-9c07-be3de6c97965.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/92a769b5-6554-5660-9c07-be3de6c97965.jpeg</a> — tranquil, horticulture, homely, strudel</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/ca627d45-c9c9-57bb-ac1c-cbed3438c46e.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/ca627d45-c9c9-57bb-ac1c-cbed3438c46e.jpeg</a> — plainclothes, sunlight, transcendental, introspective</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/3ec2ada5-0622-54e2-8e4b-65394061259e.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/3ec2ada5-0622-54e2-8e4b-65394061259e.jpeg</a> — celebratory, event, strudel, tossing</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/ee07d497-1bbc-5c15-a613-f856b2787188.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/ee07d497-1bbc-5c15-a613-f856b2787188.jpeg</a> — smirk, smugly, bust, introspective</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/02b0d85c-e502-55e7-877f-acdf144ab212.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/02b0d85c-e502-55e7-877f-acdf144ab212.jpeg</a> — dispatcher, biologist, technician, faculty</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/4265d62c-ffcb-5d0c-acc1-336db6a56a0a.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/4265d62c-ffcb-5d0c-acc1-336db6a56a0a.jpeg</a> — sportsman, celebratory, case, event, overjoyed</li></ul></section>
<section style="margin:16px 0;"><h3 style="margin:6px 0;">Region 1 — shadow, reflected, dial, reflection, revolving, timing, dissolve, diary, reflection, custodial, letter, manuscript, reflected, authorization, seduction, sensuous, manuscript, flirtation, smitten, kissing, sipping, smitten, daydreaming, flirtation, seduction, domesticity, barmaid, shelved, barmaid, custodial, boutique, domesticity, immersed, instrumental, shelved, shrouded, chanting, accountant, instrumental, diary, dial, timing, houseplant, immersed, revolving, park, smiled, smitten, blushing, frown, cutie, blushing, smiled, frown, cutie, reflected, dissolve, vapor, daydreaming, shrouded, letter, rotate, timing, reflection, shadow, reflected, sensuous, flirtation, sipping, kissing, seduction, reflection, chanting, rotate, vapor, domesticity, shelved, houseplant, boutique, radiator, manuscript, obstructing, constellation, phrenology, diary, reflected, blimp, reflection, park, diary, domesticity, accountant, violinist, reflected, shielded, knocked, reflection, shrouded, reflected, shielded, reflection, blimp</h3><ul style="margin:6px 0 0 18px;"><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/ede794fb-aee2-5f10-8845-14f0fc421f16.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/ede794fb-aee2-5f10-8845-14f0fc421f16.jpeg</a> — shadow, reflected, dial, reflection, revolving, timing, dissolve</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/f75352a8-04cb-5dc9-88e7-8fe75ffbffc6.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/f75352a8-04cb-5dc9-88e7-8fe75ffbffc6.jpeg</a> — diary, reflection, custodial, letter, manuscript, reflected, authorization</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/21d1f592-abbe-59a4-9fd4-c32117cfdd22.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/21d1f592-abbe-59a4-9fd4-c32117cfdd22.jpeg</a> — seduction, sensuous, manuscript, flirtation, smitten, kissing, sipping</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/17b0c9f8-7ed7-519b-a93e-e0ff8cdff511.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/17b0c9f8-7ed7-519b-a93e-e0ff8cdff511.jpeg</a> — smitten, daydreaming, flirtation, seduction, domesticity, barmaid</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/e10aee49-87c0-55fb-b8c5-8fac5a7ec5f3.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/e10aee49-87c0-55fb-b8c5-8fac5a7ec5f3.jpeg</a> — shelved, barmaid, custodial, boutique, domesticity</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/dbc7973b-1aac-5b12-91a6-a23bec88f320.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/dbc7973b-1aac-5b12-91a6-a23bec88f320.jpeg</a> — immersed, instrumental, shelved, shrouded, chanting</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/787cf763-4aea-5d39-8122-5fe98845fd1c.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/787cf763-4aea-5d39-8122-5fe98845fd1c.jpeg</a> — accountant, instrumental, diary, dial, timing</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/e96cfc15-5ca2-517b-a6b0-790b1716ede2.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/e96cfc15-5ca2-517b-a6b0-790b1716ede2.jpeg</a> — houseplant, immersed, revolving, park</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/83376c63-afa7-53d1-98f4-55da04f5ea44.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/83376c63-afa7-53d1-98f4-55da04f5ea44.jpeg</a> — smiled, smitten, blushing, frown, cutie</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/44fa48e7-d799-534b-8e3d-00cfa15508c7.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/44fa48e7-d799-534b-8e3d-00cfa15508c7.jpeg</a> — blushing, smiled, frown, cutie</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/5f87573e-b442-55aa-8e4d-dfe8c41ac3af.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/5f87573e-b442-55aa-8e4d-dfe8c41ac3af.jpeg</a> — reflected, dissolve, vapor, daydreaming, shrouded</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/37e64797-f29d-514b-812b-a0b58df18fed.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/37e64797-f29d-514b-812b-a0b58df18fed.jpeg</a> — letter, rotate, timing, reflection, shadow, reflected</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/532ef2fa-8603-5582-b36b-3b9b4dafcd68.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/532ef2fa-8603-5582-b36b-3b9b4dafcd68.jpeg</a> — sensuous, flirtation, sipping, kissing, seduction</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/7a0a0bff-eb59-5016-ab01-0f18a9cd9193.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/7a0a0bff-eb59-5016-ab01-0f18a9cd9193.jpeg</a> — reflection, chanting, rotate, vapor</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/19f03a4e-6c4f-50e3-95f5-be948d0335a7.png" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/19f03a4e-6c4f-50e3-95f5-be948d0335a7.png</a> — domesticity, shelved, houseplant, boutique, radiator</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/891130a9-2dc5-5d0e-acea-9bbdd507bb59.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/891130a9-2dc5-5d0e-acea-9bbdd507bb59.jpeg</a> — manuscript, obstructing, constellation, phrenology, diary</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/dfca2d7c-ee53-5d40-9a8d-6c57456fb269.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/dfca2d7c-ee53-5d40-9a8d-6c57456fb269.jpeg</a> — reflected, blimp, reflection, park</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/75371b33-7ec4-5595-8ec9-491517c4fddd.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/75371b33-7ec4-5595-8ec9-491517c4fddd.jpeg</a> — diary, domesticity, accountant, violinist</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/3ab19e6f-4e84-59a6-b146-59f0bb91daf7.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/3ab19e6f-4e84-59a6-b146-59f0bb91daf7.jpeg</a> — reflected, shielded, knocked, reflection, shrouded</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/267d232d-6a59-59ad-bde7-f6332e3941b4.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/267d232d-6a59-59ad-bde7-f6332e3941b4.jpeg</a> — reflected, shielded, reflection, blimp</li></ul></section>
<section style="margin:16px 0;"><h3 style="margin:6px 0;">Region 2 — psychotherapy, conversing, room, counselor, bookcase, mothering, conversing, perjury, counselor, psychotherapy, bickering, scrivener, scrivener, nightstand, collecting, proofreader, room, bookcase, fang, bickering, interrupter, cackling, grinning, acknowledgment, senora, center, contaminated, acknowledgment, translating, proofreader, senora, scrivener, timer, frame, nightstand, navigator, discus, frame, center, navigator, cackling, grinning, stepfather, fang, cobweb, expiration, simplest, sneezed, perjury, groped, interrupter, liar, groped, crotch, discus, flinching, house, actor, contracted, counselor, conversing, communication, interacting, bickering, cellphone, cellphone, bickering, communication, interacting, conversing, jasmine, sneezed, senora, boulevard, boulevard, cleanliness, jasmine, center, contaminated, acknowledges, senora, sabotaged, actor, frame, stepfather, annihilate, rapture, counselor</h3><ul style="margin:6px 0 0 18px;"><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/2a7f4ebf-a108-5a25-9d06-56cb18bf6b8d.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/2a7f4ebf-a108-5a25-9d06-56cb18bf6b8d.jpeg</a> — psychotherapy, conversing, room, counselor, bookcase, mothering</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/e0d641b5-9d86-569f-9350-2edd8b06b04a.png" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/e0d641b5-9d86-569f-9350-2edd8b06b04a.png</a> — conversing, perjury, counselor, psychotherapy, bickering, scrivener</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/9c8d7163-ea34-5a3f-bb6f-1c75af54a595.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/9c8d7163-ea34-5a3f-bb6f-1c75af54a595.jpeg</a> — scrivener, nightstand, collecting, proofreader, room, bookcase</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/f8b78602-f0da-528a-90ac-5cbd73a10862.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/f8b78602-f0da-528a-90ac-5cbd73a10862.jpeg</a> — fang, bickering, interrupter, cackling, grinning</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/e1f6e1ee-f131-5a34-8030-9e363894d461.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/e1f6e1ee-f131-5a34-8030-9e363894d461.jpeg</a> — acknowledgment, senora, center, contaminated</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/733ad957-21cb-5e6d-b91d-f21340770a17.png" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/733ad957-21cb-5e6d-b91d-f21340770a17.png</a> — acknowledgment, translating, proofreader, senora, scrivener</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/2122e39f-78c6-5e82-ac2d-c4cbeccddc1f.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/2122e39f-78c6-5e82-ac2d-c4cbeccddc1f.jpeg</a> — timer, frame, nightstand, navigator</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/ee3b2286-3a4d-5d56-8f25-12de1d91cecc.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/ee3b2286-3a4d-5d56-8f25-12de1d91cecc.jpeg</a> — discus, frame, center, navigator</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/eb04f402-39d4-5b47-bcf2-8ec216b7c87a.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/eb04f402-39d4-5b47-bcf2-8ec216b7c87a.jpeg</a> — cackling, grinning, stepfather, fang</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/d92f281e-6696-5844-9bce-b48524eb46fd.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/d92f281e-6696-5844-9bce-b48524eb46fd.jpeg</a> — cobweb, expiration, simplest, sneezed</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/2fe9b779-f3f2-5eea-a607-90c9756f7f26.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/2fe9b779-f3f2-5eea-a607-90c9756f7f26.jpeg</a> — perjury, groped, interrupter, liar</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/d9d1bd2b-dd31-5573-8772-5a3881342648.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/d9d1bd2b-dd31-5573-8772-5a3881342648.jpeg</a> — groped, crotch, discus, flinching</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/5266ea98-fec1-5ce6-be3d-56b2a058fe3b.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/5266ea98-fec1-5ce6-be3d-56b2a058fe3b.jpeg</a> — house, actor, contracted, counselor</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/3d00ed62-7b9e-59fb-8501-f2209b0ee12d.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/3d00ed62-7b9e-59fb-8501-f2209b0ee12d.jpeg</a> — conversing, communication, interacting, bickering, cellphone</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/1d648feb-97d6-541e-93c8-7721525984e7.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/1d648feb-97d6-541e-93c8-7721525984e7.jpeg</a> — cellphone, bickering, communication, interacting, conversing</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/f5397466-3de9-5cab-9b4d-680333508b01.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/f5397466-3de9-5cab-9b4d-680333508b01.jpeg</a> — jasmine, sneezed, senora, boulevard</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/262f3b5f-9b60-5895-95d9-fa070b6e83ae.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/262f3b5f-9b60-5895-95d9-fa070b6e83ae.jpeg</a> — boulevard, cleanliness, jasmine, center</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/c29e0436-8887-5c9f-9f24-d6a84166e976.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/c29e0436-8887-5c9f-9f24-d6a84166e976.jpeg</a> — contaminated, acknowledges, senora, sabotaged</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/7b47f10f-171d-5b10-bb41-21c30dcf2d16.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/7b47f10f-171d-5b10-bb41-21c30dcf2d16.jpeg</a> — actor, frame, stepfather</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/67c6aaea-15ae-5fb4-b08b-c7a8cee4937f.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/67c6aaea-15ae-5fb4-b08b-c7a8cee4937f.jpeg</a> — annihilate, rapture, counselor</li></ul></section>
<style>
  /* Region dropdowns */
  details.region {
    margin: 16px 0;
    border: 1px solid #e6e6e6;
    border-radius: 10px;
    padding: 8px 10px;
    background: #fff;
  }
  details.region > summary {
    cursor: pointer;
    font-weight: 600;
    list-style: none;
    outline: none;
  }
  details.region > summary::-webkit-details-marker { display: none; }
  details.region[open] > summary { margin-bottom: 8px; }

  /* Secondary (inline preview) dropdowns under each link */
  details.secondary {
    margin-top: 6px;
    border-left: 3px solid #e6e6e6;
    padding-left: 10px;
  }
  details.secondary > summary {
    cursor: pointer;
    font-size: 12px;
    color: #444;
    list-style: none;
    outline: none;
  }
  details.secondary > summary::-webkit-details-marker { display: none; }

  .secondary-status {
    font-size: 12px;
    color: #666;
    margin: 6px 0;
  }
  .secondary-embed {
    border: 1px solid #eee;
    border-radius: 8px;
    padding: 8px;
    overflow: auto;
    max-height: 70vh;
    background: #fafafa;
  }
  details.region ul { padding-left: 0; }
  details.region li {
    list-style: none;
    display: flex;
    gap: 10px;
    align-items: flex-start;
    margin: 10px 0;
  }

  a.thumb-link { display: inline-block; }
  img.thumb {
    display: block;
    width: 140px;          /* tweak as desired */
    height: auto;
    border: 1px solid #e6e6e6;
    border-radius: 10px;
    background: #fff;
  }

  /* If you want the caption text to wrap nicely next to the thumb */
  .thumb-caption {
    line-height: 1.25;
  }
</style>

<script>
(() => {
  /**
   * Controls behaviour:
   * - If true: when a REGION opens, prefetch all secondary HTML previews in that region.
   * - If false (default): only fetch when the per-link “Inline preview” dropdown is opened
   *   (still satisfies “only when region is expanded”, because you can’t open the preview otherwise).
   */
  const PRELOAD_ON_REGION_OPEN = false;

  // Consider a link “secondary HTML” if it ends with .html/.htm/.xhtml
  // OR if you explicitly mark it with class="secondary-link" or data-secondary="1".
  const SECONDARY_RE = /\.(?:xhtml|html?|htm)(?:[?#].*)?$/i;
  const IMG_RE = /\.(?:png|jpe?g|gif|webp|svg)(?:[?#].*)?$/i;

  // Cache fetches so repeated opens don't refetch the same page.
  const fetchCache = new Map(); // url -> Promise<string>

  function hydrateImageThumbnails(regionDetails) {
  const anchors = Array.from(regionDetails.querySelectorAll("a[href]"));

  for (const a of anchors) {
    const href = a.getAttribute("href") || "";
    if (!IMG_RE.test(href)) continue;

    // If already an image (e.g., you manually made one), skip.
    if (a.querySelector("img")) continue;

    // Make the link open the full image in a new tab (optional but usually nicer)
    a.target = "_blank";
    a.rel = "noopener";
    a.classList.add("thumb-link");

    // Preserve any trailing text after the link (your " — tags" etc.)
    // by wrapping it into a span so layout stays clean.
    const li = a.closest("li");
    if (li) {
      // Everything after the <a> currently sits as text nodes in the <li>.
      // We'll keep it, but wrap it so it sits next to the image neatly.
      // Only do this once.
      if (!li.querySelector(":scope > .thumb-caption")) {
        const caption = document.createElement("div");
        caption.className = "thumb-caption";

        // Move all nodes after <a> into caption
        let node = a.nextSibling;
        while (node) {
          const next = node.nextSibling;
          caption.appendChild(node);
          node = next;
        }
        li.appendChild(caption);
      }
    }

    // Replace link text with an <img> thumbnail.
    a.textContent = ""; // removes the URL/filename display

    const img = document.createElement("img");
    img.className = "thumb";
    img.loading = "lazy";
    img.decoding = "async";

    // Alt from filename (basic)
    try {
      const u = new URL(href, window.location.href);
      img.alt = (u.pathname.split("/").pop() || "image").replace(/[-_]/g, " ");
    } catch {
      img.alt = "image";
    }

    // Critical: only set src when region is open (this function is called on open)
    img.src = href;

    a.appendChild(img);
  }
}


  function fetchText(url) {
    if (!fetchCache.has(url)) {
      fetchCache.set(url, fetch(url, { cache: "force-cache" }).then(r => {
        if (!r.ok) throw new Error(`HTTP ${r.status}`);
        return r.text();
      }));
    }
    return fetchCache.get(url);
  }

  function extractForEmbed(htmlText) {
    const parser = new DOMParser();
    const doc = parser.parseFromString(htmlText, "text/html");

    // Remove scripts for safety and to avoid side-effects.
    doc.querySelectorAll("script").forEach(s => s.remove());

    // Collect inline <style> blocks.
    const styles = Array.from(doc.querySelectorAll("style"))
      .map(s => s.textContent || "")
      .join("\n");

    // Remove styles/links from body so they don't pollute the parent page.
    doc.body.querySelectorAll("style, link[rel='stylesheet']").forEach(n => n.remove());

    return { styles, content: doc.body.innerHTML, title: doc.title || "" };
  }

  function isSecondaryLink(a) {
    const href = a.getAttribute("href") || "";
    if (!href) return false;
    if (IMG_RE.test(href)) return false;

    return (
      SECONDARY_RE.test(href) ||
      a.dataset.secondary === "1" ||
      a.classList.contains("secondary-link")
    );
  }

  function ensureSecondaryPreviewUI(a) {
    const li = a.closest("li");
    if (!li) return;
    if (li.querySelector(":scope > details.secondary")) return;

    const href = a.getAttribute("href");

    const details = document.createElement("details");
    details.className = "secondary";

    // Minimal UI; embed area is filled on demand.
    details.innerHTML = `
      <summary>Inline preview</summary>
      <div class="secondary-status">Not loaded.</div>
      <div class="secondary-embed" data-href="${href.replace(/"/g, "&quot;")}"></div>
    `;

    li.appendChild(details);

    details.addEventListener("toggle", async () => {
      if (!details.open) return;

      const embed = details.querySelector(".secondary-embed");
      if (!embed || embed.dataset.loaded === "1") return;

      // Important: only load if the enclosing region is open (your requirement).
      const region = details.closest("details.region");
      if (!region || !region.open) return;

      const status = details.querySelector(".secondary-status");
      const url = embed.dataset.href;

      try {
        status.textContent = "Loading…";
        const htmlText = await fetchText(url);
        const { styles, content } = extractForEmbed(htmlText);

        // Shadow DOM isolates the embedded page's CSS so it doesn't leak into the parent.
        if (embed.attachShadow) {
          const root = embed.attachShadow({ mode: "open" });
          root.innerHTML = `
            <style>
              :host { display: block; }
              /* light reset inside the embedded view */
              body { margin: 0; }
            </style>
            <style>${styles}</style>
            <div class="embedded">${content}</div>
          `;
        } else {
          // Fallback: no isolation (older browsers).
          embed.innerHTML = `<div class="embedded">${content}</div>`;
        }

        embed.dataset.loaded = "1";
        status.textContent = "Loaded.";
      } catch (err) {
        status.textContent = `Failed to load (${url}): ${err.message || err}`;
      }
    });
  }

  function convertRegionSectionsToDetails() {
    document.querySelectorAll("section").forEach(sec => {
      const h3 = sec.querySelector(":scope > h3");
      const ul = sec.querySelector(":scope > ul");
      if (!h3 || !ul) return;

      const title = (h3.textContent || "").trim();
      if (!/^Region\b/i.test(title)) return;

      const details = document.createElement("details");
      details.className = "region";
      if (sec.getAttribute("style")) details.setAttribute("style", sec.getAttribute("style"));

      const summary = document.createElement("summary");
      summary.textContent = title;

      const body = document.createElement("div");
      body.className = "region-body";

      // Move <ul> into the dropdown body.
      body.appendChild(ul);

      details.appendChild(summary);
      details.appendChild(body);

      // Replace the entire section (drops the old h3).
      sec.replaceWith(details);
    });
  }

  async function onRegionOpen(regionDetails) {
  if (regionDetails.dataset.hydrated === "1") return;
  regionDetails.dataset.hydrated = "1";

  // NEW: turn image links into thumbnails (only loads now, on open)
  hydrateImageThumbnails(regionDetails);

  // Keep your existing HTML-inline-preview behaviour (if you still want it)
  const anchors = Array.from(regionDetails.querySelectorAll("a[href]"))
    .filter(isSecondaryLink);

  anchors.forEach(ensureSecondaryPreviewUI);

  if (PRELOAD_ON_REGION_OPEN) { /* unchanged */ }
}


  document.addEventListener("DOMContentLoaded", () => {
    convertRegionSectionsToDetails();

    document.querySelectorAll("details.region").forEach(d => {
      d.addEventListener("toggle", () => {
        if (d.open) onRegionOpen(d);
      });
    });
  });
})();
</script>

</body></html>
