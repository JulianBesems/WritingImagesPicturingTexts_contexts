<!doctype html>
<html lang="en"><head><meta charset="utf-8"><title>Image Context c44ede7758e4b428</title>
<style>
body{font:14px/1.4 -apple-system,Segoe UI,Roboto,sans-serif;max-width:900px;margin:24px auto;padding:0 16px;color:#222}
h1{font-size:18px;margin:0 0 12px 0}
h2{font-size:16px;margin:16px 0 8px}
h3{font-size:14px;margin:10px 0 4px}
code,pre{background:#f6f8fa;padding:2px 4px;border-radius:4px}
figure{margin:10px 0;padding:8px;border:1px solid #e6e6e6;border-radius:8px}
figcaption{color:#555;font-size:12px;margin-top:6px}
pre {
  white-space: pre-wrap;     /* allow wrapping inside <pre> */
  overflow-wrap: anywhere;   /* break very long words/URLs */
  word-break: break-word;    /* fallback for older engines */
  max-width: 68ch;           /* ~68 characters line length */
  margin: 0 auto 10px;       /* center the block */
  line-height: 1.5;
}

figcaption {
  max-width: 68ch;           /* keep the sentence narrow */
  margin: 6px auto 0;        /* center under the image */
  white-space: normal;       /* ensure wrapping */
  overflow-wrap: anywhere;
  word-break: break-word;
  line-height: 1.5;
}
</style>
</head><body>
  <h1>Image context</h1>
  <p><strong>Search input:</strong></p>
  <pre>. . the floor. Thats right. The floor. Its typically the largest horizontal surface in the room and undeniably the most used. The floor is a site of the body in extremis. In tragic history plays and epics, at the point of climax, characters must keel over or fall over backwards onto the floor. In making object form, the floor is a medium of active forms that organize interplay and interdependence with spatial consequence. We identify ourselves with this space, this place, this moment and these dimensions become ingredients of our very existence. Architecture is the art of reconciliation between ourselves and the world, and this mediation takes place through the senses.</pre>
  <p><strong>Search mode:</strong> paragraph_v &nbsp; <strong>Targeting:</strong> 1.5×</p>

  <h2>Selected image</h2>
  <figure>
    <img src="https://pd12m.s3.us-west-2.amazonaws.com/images/5ab8d070-9d72-5bb4-9737-25309154555c.jpeg" alt="" style="max-width:100%;height:auto;">
    <figcaption>Region 0 — roomful, flirtation, domesticity, homely</figcaption>
  </figure>

  <h2>All regions</h2>
  <section style="margin:16px 0;"><h3 style="margin:6px 0;">Region 0 — catholic, roomful, plainclothes, liturgical, liturgical, panelling, roomful, catholic, pantsuit, entourage, walking, plainclothes, roomful, domesticity, panelling, bates, bates, stoop, domesticity, observatory, battlement, enlargement, stoop, battlement, cornerstone, intertwine, enlargement, intertwine, sunlight, campus, sportsman, shes, pantsuit, plainclothes, sunlight, cornerstone, liturgical, autobahn, roomful, bowl, bowl, autobahn, roomful, roomful, tossing, campus, humidity, walking, plainclothes, sportsman, roomful, observatory, homely, flirtation, domesticity, roomful, roomful, flirtation, domesticity, homely, timetable, humidity, plainclothes</h3><ul style="margin:6px 0 0 18px;"><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/2db68c4c-9874-5f49-8bd7-47c9120c61a3.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/2db68c4c-9874-5f49-8bd7-47c9120c61a3.jpeg</a> — catholic, roomful, plainclothes, liturgical</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/b13f735b-1ecc-540d-8918-963ef7fa13e1.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/b13f735b-1ecc-540d-8918-963ef7fa13e1.jpeg</a> — liturgical, panelling, roomful, catholic</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/7ae3b817-6ca0-5e5c-b077-d69775d5a895.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/7ae3b817-6ca0-5e5c-b077-d69775d5a895.jpeg</a> — pantsuit, entourage, walking, plainclothes</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/8c581162-8c9b-585a-ace0-2c64a0834b1f.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/8c581162-8c9b-585a-ace0-2c64a0834b1f.jpeg</a> — roomful, domesticity, panelling, bates</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/c89a7efe-623d-592e-b02f-a6644baea664.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/c89a7efe-623d-592e-b02f-a6644baea664.jpeg</a> — bates, stoop, domesticity</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/29c097cb-0efa-540b-a5fa-2a3ce9f5e310.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/29c097cb-0efa-540b-a5fa-2a3ce9f5e310.jpeg</a> — observatory, battlement, enlargement</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/96b98351-83fc-5070-9377-0a156b038ebc.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/96b98351-83fc-5070-9377-0a156b038ebc.jpeg</a> — stoop, battlement, cornerstone</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/7b33825b-181d-5e1a-a01d-0aee61b99fca.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/7b33825b-181d-5e1a-a01d-0aee61b99fca.jpeg</a> — intertwine, enlargement</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/64fe31d4-33e4-5342-afce-bd4442c84643.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/64fe31d4-33e4-5342-afce-bd4442c84643.jpeg</a> — intertwine, sunlight</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/ba834621-2375-5f44-9875-74fb57d46b1f.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/ba834621-2375-5f44-9875-74fb57d46b1f.jpeg</a> — campus, sportsman</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/cc80c490-84c9-579e-8245-d1fc8e245f33.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/cc80c490-84c9-579e-8245-d1fc8e245f33.jpeg</a> — shes, pantsuit, plainclothes</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/0effc6ba-2b04-53e0-bf9c-838cade646d9.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/0effc6ba-2b04-53e0-bf9c-838cade646d9.jpeg</a> — sunlight, cornerstone, liturgical</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/63b0c488-9334-54a8-a368-d2a606aab051.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/63b0c488-9334-54a8-a368-d2a606aab051.jpeg</a> — autobahn, roomful, bowl</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/98fae216-22dc-518b-bc96-e4eb62ec277d.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/98fae216-22dc-518b-bc96-e4eb62ec277d.jpeg</a> — bowl, autobahn, roomful</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/e4b5d22f-0bc8-55e3-9995-bfd09f0e60c7.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/e4b5d22f-0bc8-55e3-9995-bfd09f0e60c7.jpeg</a> — roomful, tossing, campus</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/a821340d-1749-5894-9eb9-bc0110a091a9.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/a821340d-1749-5894-9eb9-bc0110a091a9.jpeg</a> — humidity, walking, plainclothes</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/e70effd1-57d7-5b7f-b6b0-22055931bba8.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/e70effd1-57d7-5b7f-b6b0-22055931bba8.jpeg</a> — sportsman, roomful, observatory</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/316dc7e5-2b2e-549c-adf4-83f8b99ac8fc.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/316dc7e5-2b2e-549c-adf4-83f8b99ac8fc.jpeg</a> — homely, flirtation, domesticity, roomful</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/5ab8d070-9d72-5bb4-9737-25309154555c.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/5ab8d070-9d72-5bb4-9737-25309154555c.jpeg</a> — roomful, flirtation, domesticity, homely</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/3b9dfc14-90f9-5773-adfa-44b87c676edb.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/3b9dfc14-90f9-5773-adfa-44b87c676edb.jpeg</a> — timetable, humidity, plainclothes</li></ul></section>
<section style="margin:16px 0;"><h3 style="margin:6px 0;">Region 1 — cobweb, floor, leg, guest, crawled, specification, frame, typeset, floor, frame, floor, cobweb, brochure, stallion, horsing, poodle, floor, jasmine, horsing, floor, stallion, floor, bookmark, brochure, boulevard, clock, watch, floor, guest, watch, clock, floor, timing, acknowledgment, rally, floor, envision, floor, specification, floor, rally, envision, defeated, floor, suffering, floor, bookmark, typeset, collaborating, floor, unplugged, contaminated, compactor, floor, boulevard, floor, contaminated, compactor, floor, hole, strategist, floor, unplugged, floor, totem, native, native, totem, floor</h3><ul style="margin:6px 0 0 18px;"><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/83538fbc-57f0-59de-b86d-c426a2c50940.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/83538fbc-57f0-59de-b86d-c426a2c50940.jpeg</a> — cobweb, floor, leg, guest, crawled</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/a4411dea-2e1f-50d7-b25b-fdf2f493eae8.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/a4411dea-2e1f-50d7-b25b-fdf2f493eae8.jpeg</a> — specification, frame, typeset, floor</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/8988dcab-e026-5c67-9735-45a90c406d80.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/8988dcab-e026-5c67-9735-45a90c406d80.jpeg</a> — frame, floor, cobweb, brochure</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/5533151c-09fb-5748-9264-c5074a520120.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/5533151c-09fb-5748-9264-c5074a520120.jpeg</a> — stallion, horsing, poodle, floor</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/d618649a-2fd1-5f1f-b49a-3e12b3e1237e.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/d618649a-2fd1-5f1f-b49a-3e12b3e1237e.jpeg</a> — jasmine, horsing, floor, stallion</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/deacbc17-322b-5bf0-923e-b35cbd995d83.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/deacbc17-322b-5bf0-923e-b35cbd995d83.jpeg</a> — floor, bookmark, brochure, boulevard</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/9f68cb16-e731-5418-9044-6a7a6f09d699.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/9f68cb16-e731-5418-9044-6a7a6f09d699.jpeg</a> — clock, watch, floor, guest</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/10509b24-846c-52b9-a586-f2878c9d32d5.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/10509b24-846c-52b9-a586-f2878c9d32d5.jpeg</a> — watch, clock, floor, timing</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/06f3d229-1ce2-513c-aa08-85953c9851ce.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/06f3d229-1ce2-513c-aa08-85953c9851ce.jpeg</a> — acknowledgment, rally, floor</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/b86df1f3-3d0c-5deb-889d-9fbcd6bb1a9f.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/b86df1f3-3d0c-5deb-889d-9fbcd6bb1a9f.jpeg</a> — envision, floor, specification</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/9d5b6a59-18ae-5545-92df-c70415057da5.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/9d5b6a59-18ae-5545-92df-c70415057da5.jpeg</a> — floor, rally, envision</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/bb076c9d-03e4-5f74-b6a4-2f8e908fb561.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/bb076c9d-03e4-5f74-b6a4-2f8e908fb561.jpeg</a> — defeated, floor, suffering</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/114eee37-b62a-559c-a524-04fab38ca37c.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/114eee37-b62a-559c-a524-04fab38ca37c.jpeg</a> — floor, bookmark, typeset</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/d9b2f929-7777-5ff2-9a76-ba2031a29faa.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/d9b2f929-7777-5ff2-9a76-ba2031a29faa.jpeg</a> — collaborating, floor, unplugged</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/c5d33e52-32ef-54b0-ad83-23f085d81d90.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/c5d33e52-32ef-54b0-ad83-23f085d81d90.jpeg</a> — contaminated, compactor, floor</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/1432173f-c0cf-5528-ad21-e5ee0cac6c29.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/1432173f-c0cf-5528-ad21-e5ee0cac6c29.jpeg</a> — boulevard, floor, contaminated</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/5512b77d-f182-5fb2-8177-c482ba1b543c.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/5512b77d-f182-5fb2-8177-c482ba1b543c.jpeg</a> — compactor, floor, hole</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/d2b4b133-b168-527e-a683-79cc0bc74aff.png" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/d2b4b133-b168-527e-a683-79cc0bc74aff.png</a> — strategist, floor, unplugged</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/171b02c0-489e-5f05-a916-3da9a171dc5d.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/171b02c0-489e-5f05-a916-3da9a171dc5d.jpeg</a> — floor, totem, native</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/c198f90d-1ec7-5d5e-a5a5-dc8de0b945f2.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/c198f90d-1ec7-5d5e-a5a5-dc8de0b945f2.jpeg</a> — native, totem, floor</li></ul></section>
<section style="margin:16px 0;"><h3 style="margin:6px 0;">Region 2 — furniture, stall, pantry, nightstand, stall, pantry, nightstand, furniture, keep, walk, shadow, walk, transcendental, paralyzed, bathtub, dyeing, hedonist, mirror, transcendental, library, bathtub, hedonist, immersed, unveil, sculpture, immersed, sculpture, painter, segregated, mantelpiece, library, mirror, withdrawing, barman, mantelpiece, dyeing, shadow, cocoa, unveil, cocoa, breakfast, segregated, sleepiness, flipping, tipping, nightstand, flipping, tipping, nightstand, stall, sneezed, paralyzed, flagship, stall, vessel, bathtub, pantry, vessel, flagship</h3><ul style="margin:6px 0 0 18px;"><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/11eec448-1c54-5d1a-88b5-489eef0bca21.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/11eec448-1c54-5d1a-88b5-489eef0bca21.jpeg</a> — furniture, stall, pantry, nightstand</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/0e4c62bd-315d-5f11-8395-a04373d4f8fa.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/0e4c62bd-315d-5f11-8395-a04373d4f8fa.jpeg</a> — stall, pantry, nightstand, furniture</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/3010cbb9-ab7a-5515-a700-2a06dab7b0fa.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/3010cbb9-ab7a-5515-a700-2a06dab7b0fa.jpeg</a> — keep, walk, shadow</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/1d436b57-fca9-58e9-a86a-4754a37e9819.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/1d436b57-fca9-58e9-a86a-4754a37e9819.jpeg</a> — walk, transcendental, paralyzed</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/1159df24-8363-5afb-be3b-6df6825dc146.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/1159df24-8363-5afb-be3b-6df6825dc146.jpeg</a> — bathtub, dyeing, hedonist</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/a5b38e42-ef5c-5f64-89da-af49cdbff45f.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/a5b38e42-ef5c-5f64-89da-af49cdbff45f.jpeg</a> — mirror, transcendental, library</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/81e51480-8964-5c51-9a8b-d39dcf49d4d8.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/81e51480-8964-5c51-9a8b-d39dcf49d4d8.jpeg</a> — bathtub, hedonist, immersed</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/3da55453-f92a-550e-b830-09dc8e7d3a78.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/3da55453-f92a-550e-b830-09dc8e7d3a78.jpeg</a> — unveil, sculpture, immersed</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/cf7da1c5-5eba-527c-83ad-dfdd6f6547bb.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/cf7da1c5-5eba-527c-83ad-dfdd6f6547bb.jpeg</a> — sculpture, painter, segregated</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/a6c05240-ba68-5f09-a760-208e016211c2.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/a6c05240-ba68-5f09-a760-208e016211c2.jpeg</a> — mantelpiece, library, mirror</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/f3e5fe9a-f92a-525b-81c7-878f4aa7e544.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/f3e5fe9a-f92a-525b-81c7-878f4aa7e544.jpeg</a> — withdrawing, barman, mantelpiece</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/bb97dc70-a05a-56f1-95d6-5ea2e2857769.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/bb97dc70-a05a-56f1-95d6-5ea2e2857769.jpeg</a> — dyeing, shadow</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/52db568e-f9d6-5b04-893e-bd13458141a6.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/52db568e-f9d6-5b04-893e-bd13458141a6.jpeg</a> — cocoa, unveil</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/3e3ad804-89f5-5bfd-b13a-09bd79210f89.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/3e3ad804-89f5-5bfd-b13a-09bd79210f89.jpeg</a> — cocoa, breakfast</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/dc569609-bc9d-5bbe-bd5a-7074339aad45.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/dc569609-bc9d-5bbe-bd5a-7074339aad45.jpeg</a> — segregated, sleepiness</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/51c4380b-ab0e-59fd-bbcb-6444da5f0e37.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/51c4380b-ab0e-59fd-bbcb-6444da5f0e37.jpeg</a> — flipping, tipping, nightstand</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/a924a487-3111-5165-a482-32c8aa2dea01.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/a924a487-3111-5165-a482-32c8aa2dea01.jpeg</a> — flipping, tipping, nightstand</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/8e956788-30a7-5fb0-a42c-793a490716f0.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/8e956788-30a7-5fb0-a42c-793a490716f0.jpeg</a> — stall, sneezed, paralyzed</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/d774a187-30c8-51c8-b7cb-e404b2d2da0e.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/d774a187-30c8-51c8-b7cb-e404b2d2da0e.jpeg</a> — flagship, stall, vessel</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/f902e105-c88e-56fc-a07f-644ad85ff2cb.png" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/f902e105-c88e-56fc-a07f-644ad85ff2cb.png</a> — bathtub, pantry, vessel, flagship</li></ul></section>
<section style="margin:16px 0;"><h3 style="margin:6px 0;">Region 3 — jailed, custodial, imprisoned, asylum, penitentiary, jailhouse, confinement, custodial, rehabilitation, bodega, penitentiary, confinement, jailhouse, locker, refuse, coordinate, door, payphone, door, bodega, shortcut, pizzeria, abroad, jailed, radiator, greenhouse, confinement, windowpane, rehabilitation, jailhouse, prisoner, imprisoned, confinement, captive, pizzeria, takeaway, breakfasting, deli, sink, railing, windowpane, shortcut, railing, greenhouse, caretaker, launderette, custodial, locker, sink, consulate, abroad, outreach, launderette, pizzeria, breakfasting, deli, peddler, wheelchair, jaywalking, slogan, jaywalking, refuse, captive, accompany, caretaker, fridge, radiator, custodial, door, wheelchair, consulate, payphone, custodial, coordinate, refuse, slogan, calligraphy, jailhouse, penitentiary, prisoner, confinement, jailed, asylum, imprisoned</h3><ul style="margin:6px 0 0 18px;"><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/140c05d1-22fc-5136-9f16-340572c4c15a.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/140c05d1-22fc-5136-9f16-340572c4c15a.jpeg</a> — jailed, custodial, imprisoned, asylum, penitentiary, jailhouse, confinement</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/67638463-1d09-54b7-8e3c-6c025b59c0a8.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/67638463-1d09-54b7-8e3c-6c025b59c0a8.jpeg</a> — custodial, rehabilitation, bodega, penitentiary, confinement, jailhouse</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/b157fbab-a7d0-56c2-bbaa-6f63a46110ef.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/b157fbab-a7d0-56c2-bbaa-6f63a46110ef.jpeg</a> — locker, refuse, coordinate, door, payphone</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/7f84dbbc-8d5c-593e-a3a5-082424f460a2.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/7f84dbbc-8d5c-593e-a3a5-082424f460a2.jpeg</a> — door, bodega, shortcut, pizzeria, abroad</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/ed3c26cf-9eea-56e5-8b17-a5e394473e05.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/ed3c26cf-9eea-56e5-8b17-a5e394473e05.jpeg</a> — jailed, radiator, greenhouse, confinement, windowpane</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/1aaec8a0-bcf9-5d1d-b404-c72c39b10bfc.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/1aaec8a0-bcf9-5d1d-b404-c72c39b10bfc.jpeg</a> — rehabilitation, jailhouse, prisoner, imprisoned, confinement, captive</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/003f433c-d485-5fd5-98ae-c76c09c623ce.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/003f433c-d485-5fd5-98ae-c76c09c623ce.jpeg</a> — pizzeria, takeaway, breakfasting, deli</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/7e8922c4-1854-5a87-ac5f-397a2dbc065f.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/7e8922c4-1854-5a87-ac5f-397a2dbc065f.jpeg</a> — sink, railing, windowpane</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/95357487-01a9-55b9-9f5b-10ff57b93bfb.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/95357487-01a9-55b9-9f5b-10ff57b93bfb.jpeg</a> — shortcut, railing, greenhouse, caretaker</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/7c10bf5c-6a23-5742-a2c8-d0fd89eaa724.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/7c10bf5c-6a23-5742-a2c8-d0fd89eaa724.jpeg</a> — launderette, custodial, locker, sink</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/10cb32fd-1874-5ce8-8079-6d2cfb8fac06.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/10cb32fd-1874-5ce8-8079-6d2cfb8fac06.jpeg</a> — consulate, abroad, outreach</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/a644c6fa-fbcc-547e-be71-951d956d768b.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/a644c6fa-fbcc-547e-be71-951d956d768b.jpeg</a> — launderette, pizzeria, breakfasting, deli</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/76d93df3-b454-5d3b-9bba-9489a1cf3e32.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/76d93df3-b454-5d3b-9bba-9489a1cf3e32.jpeg</a> — peddler, wheelchair, jaywalking</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/235448e2-2ea9-5308-a118-d6c060017c74.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/235448e2-2ea9-5308-a118-d6c060017c74.jpeg</a> — slogan, jaywalking, refuse</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/e56cec1b-5212-5584-b55b-1d60c17d4161.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/e56cec1b-5212-5584-b55b-1d60c17d4161.jpeg</a> — captive, accompany, caretaker</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/0464e87d-9cae-5369-a234-81fdab3bf17e.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/0464e87d-9cae-5369-a234-81fdab3bf17e.jpeg</a> — fridge, radiator, custodial</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/ec7eb12e-7a1d-5fc3-86a7-8c5b78aff5a7.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/ec7eb12e-7a1d-5fc3-86a7-8c5b78aff5a7.jpeg</a> — door, wheelchair, consulate</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/3ca87f77-d8bf-521c-8f7f-c6115c7d37c1.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/3ca87f77-d8bf-521c-8f7f-c6115c7d37c1.jpeg</a> — payphone, custodial, coordinate</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/93a44998-05d1-5c89-9a6e-6f3bd4aaec99.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/93a44998-05d1-5c89-9a6e-6f3bd4aaec99.jpeg</a> — refuse, slogan, calligraphy</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/5ab55ddb-ad9d-5080-ab89-08f8d0619d8f.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/5ab55ddb-ad9d-5080-ab89-08f8d0619d8f.jpeg</a> — jailhouse, penitentiary, prisoner, confinement, jailed, asylum, imprisoned</li></ul></section>
<style>
  /* Region dropdowns */
  details.region {
    margin: 16px 0;
    border: 1px solid #e6e6e6;
    border-radius: 10px;
    padding: 8px 10px;
    background: #fff;
  }
  details.region > summary {
    cursor: pointer;
    font-weight: 600;
    list-style: none;
    outline: none;
  }
  details.region > summary::-webkit-details-marker { display: none; }
  details.region[open] > summary { margin-bottom: 8px; }

  /* Secondary (inline preview) dropdowns under each link */
  details.secondary {
    margin-top: 6px;
    border-left: 3px solid #e6e6e6;
    padding-left: 10px;
  }
  details.secondary > summary {
    cursor: pointer;
    font-size: 12px;
    color: #444;
    list-style: none;
    outline: none;
  }
  details.secondary > summary::-webkit-details-marker { display: none; }

  .secondary-status {
    font-size: 12px;
    color: #666;
    margin: 6px 0;
  }
  .secondary-embed {
    border: 1px solid #eee;
    border-radius: 8px;
    padding: 8px;
    overflow: auto;
    max-height: 70vh;
    background: #fafafa;
  }
  details.region ul { padding-left: 0; }
  details.region li {
    list-style: none;
    display: flex;
    gap: 10px;
    align-items: flex-start;
    margin: 10px 0;
  }

  a.thumb-link { display: inline-block; }
  img.thumb {
    display: block;
    width: 140px;          /* tweak as desired */
    height: auto;
    border: 1px solid #e6e6e6;
    border-radius: 10px;
    background: #fff;
  }

  /* If you want the caption text to wrap nicely next to the thumb */
  .thumb-caption {
    line-height: 1.25;
  }
</style>

<script>
(() => {
  /**
   * Controls behaviour:
   * - If true: when a REGION opens, prefetch all secondary HTML previews in that region.
   * - If false (default): only fetch when the per-link “Inline preview” dropdown is opened
   *   (still satisfies “only when region is expanded”, because you can’t open the preview otherwise).
   */
  const PRELOAD_ON_REGION_OPEN = false;

  // Consider a link “secondary HTML” if it ends with .html/.htm/.xhtml
  // OR if you explicitly mark it with class="secondary-link" or data-secondary="1".
  const SECONDARY_RE = /\.(?:xhtml|html?|htm)(?:[?#].*)?$/i;
  const IMG_RE = /\.(?:png|jpe?g|gif|webp|svg)(?:[?#].*)?$/i;

  // Cache fetches so repeated opens don't refetch the same page.
  const fetchCache = new Map(); // url -> Promise<string>

  function hydrateImageThumbnails(regionDetails) {
  const anchors = Array.from(regionDetails.querySelectorAll("a[href]"));

  for (const a of anchors) {
    const href = a.getAttribute("href") || "";
    if (!IMG_RE.test(href)) continue;

    // If already an image (e.g., you manually made one), skip.
    if (a.querySelector("img")) continue;

    // Make the link open the full image in a new tab (optional but usually nicer)
    a.target = "_blank";
    a.rel = "noopener";
    a.classList.add("thumb-link");

    // Preserve any trailing text after the link (your " — tags" etc.)
    // by wrapping it into a span so layout stays clean.
    const li = a.closest("li");
    if (li) {
      // Everything after the <a> currently sits as text nodes in the <li>.
      // We'll keep it, but wrap it so it sits next to the image neatly.
      // Only do this once.
      if (!li.querySelector(":scope > .thumb-caption")) {
        const caption = document.createElement("div");
        caption.className = "thumb-caption";

        // Move all nodes after <a> into caption
        let node = a.nextSibling;
        while (node) {
          const next = node.nextSibling;
          caption.appendChild(node);
          node = next;
        }
        li.appendChild(caption);
      }
    }

    // Replace link text with an <img> thumbnail.
    a.textContent = ""; // removes the URL/filename display

    const img = document.createElement("img");
    img.className = "thumb";
    img.loading = "lazy";
    img.decoding = "async";

    // Alt from filename (basic)
    try {
      const u = new URL(href, window.location.href);
      img.alt = (u.pathname.split("/").pop() || "image").replace(/[-_]/g, " ");
    } catch {
      img.alt = "image";
    }

    // Critical: only set src when region is open (this function is called on open)
    img.src = href;

    a.appendChild(img);
  }
}


  function fetchText(url) {
    if (!fetchCache.has(url)) {
      fetchCache.set(url, fetch(url, { cache: "force-cache" }).then(r => {
        if (!r.ok) throw new Error(`HTTP ${r.status}`);
        return r.text();
      }));
    }
    return fetchCache.get(url);
  }

  function extractForEmbed(htmlText) {
    const parser = new DOMParser();
    const doc = parser.parseFromString(htmlText, "text/html");

    // Remove scripts for safety and to avoid side-effects.
    doc.querySelectorAll("script").forEach(s => s.remove());

    // Collect inline <style> blocks.
    const styles = Array.from(doc.querySelectorAll("style"))
      .map(s => s.textContent || "")
      .join("\n");

    // Remove styles/links from body so they don't pollute the parent page.
    doc.body.querySelectorAll("style, link[rel='stylesheet']").forEach(n => n.remove());

    return { styles, content: doc.body.innerHTML, title: doc.title || "" };
  }

  function isSecondaryLink(a) {
    const href = a.getAttribute("href") || "";
    if (!href) return false;
    if (IMG_RE.test(href)) return false;

    return (
      SECONDARY_RE.test(href) ||
      a.dataset.secondary === "1" ||
      a.classList.contains("secondary-link")
    );
  }

  function ensureSecondaryPreviewUI(a) {
    const li = a.closest("li");
    if (!li) return;
    if (li.querySelector(":scope > details.secondary")) return;

    const href = a.getAttribute("href");

    const details = document.createElement("details");
    details.className = "secondary";

    // Minimal UI; embed area is filled on demand.
    details.innerHTML = `
      <summary>Inline preview</summary>
      <div class="secondary-status">Not loaded.</div>
      <div class="secondary-embed" data-href="${href.replace(/"/g, "&quot;")}"></div>
    `;

    li.appendChild(details);

    details.addEventListener("toggle", async () => {
      if (!details.open) return;

      const embed = details.querySelector(".secondary-embed");
      if (!embed || embed.dataset.loaded === "1") return;

      // Important: only load if the enclosing region is open (your requirement).
      const region = details.closest("details.region");
      if (!region || !region.open) return;

      const status = details.querySelector(".secondary-status");
      const url = embed.dataset.href;

      try {
        status.textContent = "Loading…";
        const htmlText = await fetchText(url);
        const { styles, content } = extractForEmbed(htmlText);

        // Shadow DOM isolates the embedded page's CSS so it doesn't leak into the parent.
        if (embed.attachShadow) {
          const root = embed.attachShadow({ mode: "open" });
          root.innerHTML = `
            <style>
              :host { display: block; }
              /* light reset inside the embedded view */
              body { margin: 0; }
            </style>
            <style>${styles}</style>
            <div class="embedded">${content}</div>
          `;
        } else {
          // Fallback: no isolation (older browsers).
          embed.innerHTML = `<div class="embedded">${content}</div>`;
        }

        embed.dataset.loaded = "1";
        status.textContent = "Loaded.";
      } catch (err) {
        status.textContent = `Failed to load (${url}): ${err.message || err}`;
      }
    });
  }

  function convertRegionSectionsToDetails() {
    document.querySelectorAll("section").forEach(sec => {
      const h3 = sec.querySelector(":scope > h3");
      const ul = sec.querySelector(":scope > ul");
      if (!h3 || !ul) return;

      const title = (h3.textContent || "").trim();
      if (!/^Region\b/i.test(title)) return;

      const details = document.createElement("details");
      details.className = "region";
      if (sec.getAttribute("style")) details.setAttribute("style", sec.getAttribute("style"));

      const summary = document.createElement("summary");
      summary.textContent = title;

      const body = document.createElement("div");
      body.className = "region-body";

      // Move <ul> into the dropdown body.
      body.appendChild(ul);

      details.appendChild(summary);
      details.appendChild(body);

      // Replace the entire section (drops the old h3).
      sec.replaceWith(details);
    });
  }

  async function onRegionOpen(regionDetails) {
  if (regionDetails.dataset.hydrated === "1") return;
  regionDetails.dataset.hydrated = "1";

  // NEW: turn image links into thumbnails (only loads now, on open)
  hydrateImageThumbnails(regionDetails);

  // Keep your existing HTML-inline-preview behaviour (if you still want it)
  const anchors = Array.from(regionDetails.querySelectorAll("a[href]"))
    .filter(isSecondaryLink);

  anchors.forEach(ensureSecondaryPreviewUI);

  if (PRELOAD_ON_REGION_OPEN) { /* unchanged */ }
}


  document.addEventListener("DOMContentLoaded", () => {
    convertRegionSectionsToDetails();

    document.querySelectorAll("details.region").forEach(d => {
      d.addEventListener("toggle", () => {
        if (d.open) onRegionOpen(d);
      });
    });
  });
})();
</script>

</body></html>
