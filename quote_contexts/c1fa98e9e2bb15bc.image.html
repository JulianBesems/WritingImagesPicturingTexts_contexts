<!doctype html>
<html lang="en"><head><meta charset="utf-8"><title>Image Context c1fa98e9e2bb15bc</title>
<style>
body{font:14px/1.4 -apple-system,Segoe UI,Roboto,sans-serif;max-width:900px;margin:24px auto;padding:0 16px;color:#222}
h1{font-size:18px;margin:0 0 12px 0}
h2{font-size:16px;margin:16px 0 8px}
h3{font-size:14px;margin:10px 0 4px}
code,pre{background:#f6f8fa;padding:2px 4px;border-radius:4px}
figure{margin:10px 0;padding:8px;border:1px solid #e6e6e6;border-radius:8px}
figcaption{color:#555;font-size:12px;margin-top:6px}
pre {
  white-space: pre-wrap;     /* allow wrapping inside <pre> */
  overflow-wrap: anywhere;   /* break very long words/URLs */
  word-break: break-word;    /* fallback for older engines */
  max-width: 68ch;           /* ~68 characters line length */
  margin: 0 auto 10px;       /* center the block */
  line-height: 1.5;
}

figcaption {
  max-width: 68ch;           /* keep the sentence narrow */
  margin: 6px auto 0;        /* center under the image */
  white-space: normal;       /* ensure wrapping */
  overflow-wrap: anywhere;
  word-break: break-word;
  line-height: 1.5;
}
</style>
</head><body>
  <h1>Image context</h1>
  <p><strong>Search input:</strong></p>
  <pre>Ornament</pre>
  <p><strong>Search mode:</strong> paragraph_v &nbsp; <strong>Targeting:</strong> 4×</p>

  <h2>Selected image</h2>
  <figure>
    <img src="https://pd12m.s3.us-west-2.amazonaws.com/images/61298173-b2ff-5b57-9cc9-e9030ea0dc60.jpeg" alt="" style="max-width:100%;height:auto;">
    <figcaption>Region 1 — chapter, treatise, codex, masonic, bibliographical, catalogue, colophon, manuscript, libretto, anthology, philological, almanac, licentiate, folio, catalog, chronicle, scholasticism, philology, compendium</figcaption>
  </figure>

  <h2>All regions</h2>
  <section style="margin:16px 0;"><h3 style="margin:6px 0;">Region 0 — court, panelled, summerhouse, enfilade, dollhouse, rectory, blueprint, loggia, courtyard, legation, fretwork, mansion, doorstep, architectural, enfilade, mansion, verandah, panelled, dollhouse, rectory, blueprint, architectural, legation, courtyard, presbytery, loggia, architectural, fenestration, ornamentation, edifice, ironwork, gabled, corbel, steeple, seminary, congregational, corbel, gabled, ironwork, verandah, fenestration, balustrade, ornamentation, workmanship, legation, fretwork, sanitarium, congregational, manor, presbytery, rectory, seminary, gabled, mansion, steeple, restored, rectory, almshouses, manor, mansion, abode, hall, summerhouse, fenestration, gabled, blockhouse, rookery, gated, blueprint, caisson, dollhouse, blockhouse, legation, workmanship, mansion, carillon, sanitarium, rookery, balustrade, gabled, architectural, gated, ironwork, courtyard, court, doorstep, legation, fretwork, cutaway, caisson, panelled, enfilade, palazzi, architectural, louver, blueprint, edifice, almshouses, mansion, fenestration, rectory, restored, gabled, panelled, manor, abode, hall, blueprint, enfilade, blockhouse, cutaway, legation, architectural, dollhouse, rectory, plumb, palazzi, blueprint, ironwork, digitization, workmanship, carillon, fenestration, legation, fretwork, ornamentation, architectural, renovate, almshouses, legation, mansion, presbytery, gabled, blueprint, rectory, digitization, presbytery, rectory, palazzi, enfilade, parquet, blueprint, rookery, panelled, enfilade, presbytery, architectural, dollhouse, blueprint, parquet, legation, fretwork, palazzi, legation, fretwork, corbel, tooled, balustrade, ornamentation, blueprint, ironwork, workmanship, rectory, legation, mansion, court, manor, courtyard, fenestration, hammerers, architectural, ornamentation, court, loggia, mansion, rectory, fenestration, hammerers, courtyard, architectural, legation, loggia, architectural, dollhouse, rectory, fenestration, blueprint, standpipe, blockhouse, renovate, balustrade, fenestration, verandah, legation, mansion, corbel, ironwork, loggia, gabled</h3><ul style="margin:6px 0 0 18px;"><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/790f0d08-18c3-5511-80cf-22f0f2f4ce6d.png" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/790f0d08-18c3-5511-80cf-22f0f2f4ce6d.png</a> — court, panelled, summerhouse, enfilade, dollhouse, rectory, blueprint, loggia, courtyard, legation, fretwork, mansion, doorstep, architectural</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/5cae3d45-1057-511a-9c66-cfbd6001cbaa.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/5cae3d45-1057-511a-9c66-cfbd6001cbaa.jpeg</a> — enfilade, mansion, verandah, panelled, dollhouse, rectory, blueprint, architectural, legation, courtyard, presbytery, loggia</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/69ce152a-0f13-5d1b-a2b8-b40dc9c9f8a3.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/69ce152a-0f13-5d1b-a2b8-b40dc9c9f8a3.jpeg</a> — architectural, fenestration, ornamentation, edifice, ironwork, gabled, corbel, steeple, seminary, congregational</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/9644eeed-bca7-5867-8fa3-01c82af2b10a.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/9644eeed-bca7-5867-8fa3-01c82af2b10a.jpeg</a> — corbel, gabled, ironwork, verandah, fenestration, balustrade, ornamentation, workmanship, legation, fretwork</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/703b2fe0-3d03-5f2f-b133-8dd9204c038f.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/703b2fe0-3d03-5f2f-b133-8dd9204c038f.jpeg</a> — sanitarium, congregational, manor, presbytery, rectory, seminary, gabled, mansion, steeple, restored</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/bb94fdb2-60f6-52aa-9a09-04b6c0f20283.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/bb94fdb2-60f6-52aa-9a09-04b6c0f20283.jpeg</a> — rectory, almshouses, manor, mansion, abode, hall, summerhouse, fenestration, gabled, blockhouse, rookery</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/b2c0eb0a-d24d-52e2-a9f3-a8361d2a788f.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/b2c0eb0a-d24d-52e2-a9f3-a8361d2a788f.jpeg</a> — gated, blueprint, caisson, dollhouse, blockhouse, legation, workmanship, mansion, carillon, sanitarium</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/67a4ab5e-b391-5f45-87f3-1ba8fd01fde8.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/67a4ab5e-b391-5f45-87f3-1ba8fd01fde8.jpeg</a> — rookery, balustrade, gabled, architectural, gated, ironwork, courtyard, court, doorstep, legation, fretwork</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/a7659b7c-e2f9-5e08-b407-5a4efa6d93a3.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/a7659b7c-e2f9-5e08-b407-5a4efa6d93a3.jpeg</a> — cutaway, caisson, panelled, enfilade, palazzi, architectural, louver, blueprint, edifice</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/d7c03254-f281-504d-9ae9-8385a788ab84.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/d7c03254-f281-504d-9ae9-8385a788ab84.jpeg</a> — almshouses, mansion, fenestration, rectory, restored, gabled, panelled, manor, abode, hall</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/3729cd13-d2db-5c4b-a8b6-5e10f1253e0d.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/3729cd13-d2db-5c4b-a8b6-5e10f1253e0d.jpeg</a> — blueprint, enfilade, blockhouse, cutaway, legation, architectural, dollhouse, rectory, plumb, palazzi</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/43c47f89-7e0c-5319-b1d1-d65af92d8857.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/43c47f89-7e0c-5319-b1d1-d65af92d8857.jpeg</a> — blueprint, ironwork, digitization, workmanship, carillon, fenestration, legation, fretwork, ornamentation, architectural</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/7e993f19-1a6d-5172-acb9-166531144086.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/7e993f19-1a6d-5172-acb9-166531144086.jpeg</a> — renovate, almshouses, legation, mansion, presbytery, gabled, blueprint, rectory, digitization</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/64ad32ce-412c-5c43-8c06-392bf75ac20e.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/64ad32ce-412c-5c43-8c06-392bf75ac20e.jpeg</a> — presbytery, rectory, palazzi, enfilade, parquet, blueprint, rookery, panelled</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/3a683164-6c99-56ef-adef-8908e6170943.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/3a683164-6c99-56ef-adef-8908e6170943.jpeg</a> — enfilade, presbytery, architectural, dollhouse, blueprint, parquet, legation, fretwork, palazzi</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/caa52170-e1a8-5459-aa6c-84e0b1fcd696.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/caa52170-e1a8-5459-aa6c-84e0b1fcd696.jpeg</a> — legation, fretwork, corbel, tooled, balustrade, ornamentation, blueprint, ironwork, workmanship</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/d8a7d7a9-1183-5102-bac1-ecfeb0b53365.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/d8a7d7a9-1183-5102-bac1-ecfeb0b53365.jpeg</a> — rectory, legation, mansion, court, manor, courtyard, fenestration, hammerers, architectural</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/44546c41-c3a3-572e-8f55-116b0d5b548b.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/44546c41-c3a3-572e-8f55-116b0d5b548b.jpeg</a> — ornamentation, court, loggia, mansion, rectory, fenestration, hammerers, courtyard, architectural</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/cde720a1-a5cb-5647-93e4-7b9f26b2e7f0.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/cde720a1-a5cb-5647-93e4-7b9f26b2e7f0.jpeg</a> — legation, loggia, architectural, dollhouse, rectory, fenestration, blueprint, standpipe, blockhouse</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/2a4012e4-598a-5e07-8905-cb036b75ff48.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/2a4012e4-598a-5e07-8905-cb036b75ff48.jpeg</a> — renovate, balustrade, fenestration, verandah, legation, mansion, corbel, ironwork, loggia, gabled</li></ul></section>
<section style="margin:16px 0;"><h3 style="margin:6px 0;">Region 1 — chronicle, codex, folio, listing, philology, libretto, cataloguer, catalogue, marginalia, treatise, compendium, bibliographical, philological, lexicography, gazette, almanac, anthology, broadside, colophon, manuscript, bibliographic, casebook, catalog, vellum, broadside, marginalia, cataloguer, treatise, philological, folio, cookbook, genealogically, chronicle, manuscript, bibliographic, colophon, gazette, philology, compendium, bibliographical, libretto, codex, catalogue, almanac, anthology, catalog, casebook, bibliographic, bookbinder, lexicography, genealogically, antiquarian, scholasticism, philology, bibliographical, vellum, cataloguer, flyleaf, philological, anthology, almanac, libretto, compendium, folio, antiquarianism, codex, libretto, folio, antiquarianism, listing, marginalia, flyleaf, auction, gazette, treatise, anthology, almanac, colophon, catalogue, compendium, cookbook, cataloguer, antiquarian, catalog, bibliographical, colophon, scribal, broadside, chronicle, libretto, codex, manuscript, catalogue, insomuch, folio, marginalia, bibliographical, scholasticism, auction, philology, annotation, anthology, gazette, treatise, philological, philology, anthology, epilogue, compendium, bibliographical, colophon, babel, antiquarian, folio, libretto, lexicography, bookbinder, philological, marginalia, manuscript, casebook, chapter, treatise, chronicle, codex, codex, casebook, marginalia, cookbook, digitisation, colophon, bibliographical, philological, anthology, chronicle, bibliographic, manuscript, philology, catalog, folio, treatise, philologist, libretto, licentiate, chapter, treatise, codex, masonic, bibliographical, catalogue, colophon, manuscript, libretto, anthology, philological, almanac, licentiate, folio, catalog, chronicle, scholasticism, philology, compendium, codex, vellum, annotation, chronicle, manuscript, bibliographic, marginalia, flyleaf, folio, philological, libretto, colophon, digitisation, compendium, cataloguer, anthology, bibliographical, casebook, bookbinder, scribal, catalogue, folio, compendium, marginalia, flyleaf, cataloguer, manuscript, bibliographic, libretto, catalog, bibliographical, chronicle, probate, codex, diarist, genealogically, docket, vellum, almanac, casebook, cataloguer, flyleaf, casebook, phrenology, codex, bibliographical, catalogue, bibliographic, lexicography, libretto, anthology, philological, almanac, listing, bookbinder, gazette, philology, philologist, compendium, anthology, bibliographic, accession, manuscript, colophon, insomuch, bibliographical, cookbook, marginalia, catalog, philology, libretto, folio, antiquarianism, philological, catalogue, codex, compendium, treatise, anthology, philology, probate, folio, catalog, manuscript, genealogist, cookbook, cataloguer, philological, treatise, chronicle, colophon, codex, compendium, catalogue, lexicography, libretto, genealogically, treatise, philological, vellum, chronicle, lexicography, scribal, scholasticism, philology, bibliographic, manuscript, codex, folio, marginalia, flyleaf, libretto, gazette, anthology, compendium, bibliographical, colophon, babel, lexicography, bibliographic, catalog, compendium, cataloguer, catalogue, gazette, genealogist, colophon, genealogically, chapter, treatise, almanac, anthology, philological, folio, philology, libretto, bibliographical, marginalia, codex, gazette, philological, treatise, anthology, vellum, annotation, libretto, marginalia, flyleaf, scholasticism, philology, codex, lexicography, bibliographic, annotated, chronicle, bibliographical, broadside, cataloguer, compendium, colophon, scribal, anthology, bibliographical, gazette, philology, colophon, libretto, bibliographic, folio, codex, broadside, casebook, chronicle, lexicography, marginalia, annotated, vellum, annotation, cataloguer, philological, treatise, cataloguer, treatise, marginalia, codex, inscribed, bibliographical, catalogue, colophon, bibliographic, manuscript, vellum, libretto, anthology, philological, almanac, folio, antiquarianism, catalog, philology, antiquarian, compendium, anthology, compendium, bookbinder, bibliographical, almanac, catalogue, colophon, libretto, manuscript, bibliographic, folio, codex, casebook, inscribed, chronicle, catalog, cookbook, marginalia, flyleaf, vellum, treatise, casebook, catalog, auction, almanac, licentiate, bibliographical, compendium, docket, philological, treatise, catalogue, broadside, codex, folio, listing, gazette, cataloguer, manuscript, libretto, chronicle</h3><ul style="margin:6px 0 0 18px;"><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/0721cfad-0ae8-5be4-93ba-f86d05727992.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/0721cfad-0ae8-5be4-93ba-f86d05727992.jpeg</a> — chronicle, codex, folio, listing, philology, libretto, cataloguer, catalogue, marginalia, treatise, compendium, bibliographical, philological, lexicography, gazette, almanac, anthology, broadside, colophon, manuscript, bibliographic, casebook, catalog</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/f5567a1f-2ef0-595e-b6e6-68c2fa9a78ec.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/f5567a1f-2ef0-595e-b6e6-68c2fa9a78ec.jpeg</a> — vellum, broadside, marginalia, cataloguer, treatise, philological, folio, cookbook, genealogically, chronicle, manuscript, bibliographic, colophon, gazette, philology, compendium, bibliographical, libretto, codex, catalogue, almanac, anthology, catalog</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/69dfec54-3aee-578b-96fb-f764b85cbb8b.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/69dfec54-3aee-578b-96fb-f764b85cbb8b.jpeg</a> — casebook, bibliographic, bookbinder, lexicography, genealogically, antiquarian, scholasticism, philology, bibliographical, vellum, cataloguer, flyleaf, philological, anthology, almanac, libretto, compendium, folio, antiquarianism, codex</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/75ff058d-92ef-5088-a7fc-55f42ec642d5.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/75ff058d-92ef-5088-a7fc-55f42ec642d5.jpeg</a> — libretto, folio, antiquarianism, listing, marginalia, flyleaf, auction, gazette, treatise, anthology, almanac, colophon, catalogue, compendium, cookbook, cataloguer, antiquarian, catalog, bibliographical</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/6aed5164-7eb7-5680-85fe-9a00ac4caadd.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/6aed5164-7eb7-5680-85fe-9a00ac4caadd.jpeg</a> — colophon, scribal, broadside, chronicle, libretto, codex, manuscript, catalogue, insomuch, folio, marginalia, bibliographical, scholasticism, auction, philology, annotation, anthology, gazette, treatise, philological</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/b8453df2-8aa9-521e-90ff-90aa08e660ff.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/b8453df2-8aa9-521e-90ff-90aa08e660ff.jpeg</a> — philology, anthology, epilogue, compendium, bibliographical, colophon, babel, antiquarian, folio, libretto, lexicography, bookbinder, philological, marginalia, manuscript, casebook, chapter, treatise, chronicle, codex</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/0f1fd363-fd14-5d21-abb4-3cf62c27c4d6.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/0f1fd363-fd14-5d21-abb4-3cf62c27c4d6.jpeg</a> — codex, casebook, marginalia, cookbook, digitisation, colophon, bibliographical, philological, anthology, chronicle, bibliographic, manuscript, philology, catalog, folio, treatise, philologist, libretto, licentiate</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/61298173-b2ff-5b57-9cc9-e9030ea0dc60.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/61298173-b2ff-5b57-9cc9-e9030ea0dc60.jpeg</a> — chapter, treatise, codex, masonic, bibliographical, catalogue, colophon, manuscript, libretto, anthology, philological, almanac, licentiate, folio, catalog, chronicle, scholasticism, philology, compendium</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/a11812ce-17d7-5d49-a46e-a2165936dd2d.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/a11812ce-17d7-5d49-a46e-a2165936dd2d.jpeg</a> — codex, vellum, annotation, chronicle, manuscript, bibliographic, marginalia, flyleaf, folio, philological, libretto, colophon, digitisation, compendium, cataloguer, anthology, bibliographical, casebook, bookbinder, scribal</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/eb6c5b8e-d9ef-5057-b419-81648d0cc469.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/eb6c5b8e-d9ef-5057-b419-81648d0cc469.jpeg</a> — catalogue, folio, compendium, marginalia, flyleaf, cataloguer, manuscript, bibliographic, libretto, catalog, bibliographical, chronicle, probate, codex, diarist, genealogically, docket, vellum, almanac, casebook</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/7c509f0f-bfbe-5a19-bddb-7b0e6d02aac2.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/7c509f0f-bfbe-5a19-bddb-7b0e6d02aac2.jpeg</a> — cataloguer, flyleaf, casebook, phrenology, codex, bibliographical, catalogue, bibliographic, lexicography, libretto, anthology, philological, almanac, listing, bookbinder, gazette, philology, philologist, compendium</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/937747fd-4877-573d-b741-34245e375378.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/937747fd-4877-573d-b741-34245e375378.jpeg</a> — anthology, bibliographic, accession, manuscript, colophon, insomuch, bibliographical, cookbook, marginalia, catalog, philology, libretto, folio, antiquarianism, philological, catalogue, codex, compendium, treatise</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/08890731-bad9-5e31-8324-a896a763f635.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/08890731-bad9-5e31-8324-a896a763f635.jpeg</a> — anthology, philology, probate, folio, catalog, manuscript, genealogist, cookbook, cataloguer, philological, treatise, chronicle, colophon, codex, compendium, catalogue, lexicography, libretto, genealogically</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/2da970de-acaa-5b8b-9db6-637b91dd0ead.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/2da970de-acaa-5b8b-9db6-637b91dd0ead.jpeg</a> — treatise, philological, vellum, chronicle, lexicography, scribal, scholasticism, philology, bibliographic, manuscript, codex, folio, marginalia, flyleaf, libretto, gazette, anthology, compendium, bibliographical, colophon, babel</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/73f384da-5faf-54f1-b96a-40b399c42f43.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/73f384da-5faf-54f1-b96a-40b399c42f43.jpeg</a> — lexicography, bibliographic, catalog, compendium, cataloguer, catalogue, gazette, genealogist, colophon, genealogically, chapter, treatise, almanac, anthology, philological, folio, philology, libretto, bibliographical, marginalia, codex</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/bbc7b89b-e428-5d7a-85c8-39359630ee40.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/bbc7b89b-e428-5d7a-85c8-39359630ee40.jpeg</a> — gazette, philological, treatise, anthology, vellum, annotation, libretto, marginalia, flyleaf, scholasticism, philology, codex, lexicography, bibliographic, annotated, chronicle, bibliographical, broadside, cataloguer, compendium, colophon, scribal</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/f4cdaa58-302c-5b21-8881-96ec019043c9.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/f4cdaa58-302c-5b21-8881-96ec019043c9.jpeg</a> — anthology, bibliographical, gazette, philology, colophon, libretto, bibliographic, folio, codex, broadside, casebook, chronicle, lexicography, marginalia, annotated, vellum, annotation, cataloguer, philological, treatise</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/6966ced7-d18b-5dd5-b5bc-e4a72fc1122b.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/6966ced7-d18b-5dd5-b5bc-e4a72fc1122b.jpeg</a> — cataloguer, treatise, marginalia, codex, inscribed, bibliographical, catalogue, colophon, bibliographic, manuscript, vellum, libretto, anthology, philological, almanac, folio, antiquarianism, catalog, philology, antiquarian, compendium</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/2957fec3-66d1-5e64-8aab-c9512d85bd5a.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/2957fec3-66d1-5e64-8aab-c9512d85bd5a.jpeg</a> — anthology, compendium, bookbinder, bibliographical, almanac, catalogue, colophon, libretto, manuscript, bibliographic, folio, codex, casebook, inscribed, chronicle, catalog, cookbook, marginalia, flyleaf, vellum, treatise</li><li><a href="https://pd12m.s3.us-west-2.amazonaws.com/images/608256f2-e026-5421-988c-a17b9b6a75ba.jpeg" target="_blank">https://pd12m.s3.us-west-2.amazonaws.com/images/608256f2-e026-5421-988c-a17b9b6a75ba.jpeg</a> — casebook, catalog, auction, almanac, licentiate, bibliographical, compendium, docket, philological, treatise, catalogue, broadside, codex, folio, listing, gazette, cataloguer, manuscript, libretto, chronicle</li></ul></section>
<style>
  /* Region dropdowns */
  details.region {
    margin: 16px 0;
    border: 1px solid #e6e6e6;
    border-radius: 10px;
    padding: 8px 10px;
    background: #fff;
  }
  details.region > summary {
    cursor: pointer;
    font-weight: 600;
    list-style: none;
    outline: none;
  }
  details.region > summary::-webkit-details-marker { display: none; }
  details.region[open] > summary { margin-bottom: 8px; }

  /* Secondary (inline preview) dropdowns under each link */
  details.secondary {
    margin-top: 6px;
    border-left: 3px solid #e6e6e6;
    padding-left: 10px;
  }
  details.secondary > summary {
    cursor: pointer;
    font-size: 12px;
    color: #444;
    list-style: none;
    outline: none;
  }
  details.secondary > summary::-webkit-details-marker { display: none; }

  .secondary-status {
    font-size: 12px;
    color: #666;
    margin: 6px 0;
  }
  .secondary-embed {
    border: 1px solid #eee;
    border-radius: 8px;
    padding: 8px;
    overflow: auto;
    max-height: 70vh;
    background: #fafafa;
  }
  details.region ul { padding-left: 0; }
  details.region li {
    list-style: none;
    display: flex;
    gap: 10px;
    align-items: flex-start;
    margin: 10px 0;
  }

  a.thumb-link { display: inline-block; }
  img.thumb {
    display: block;
    width: 140px;          /* tweak as desired */
    height: auto;
    border: 1px solid #e6e6e6;
    border-radius: 10px;
    background: #fff;
  }

  /* If you want the caption text to wrap nicely next to the thumb */
  .thumb-caption {
    line-height: 1.25;
  }
</style>

<script>
(() => {
  /**
   * Controls behaviour:
   * - If true: when a REGION opens, prefetch all secondary HTML previews in that region.
   * - If false (default): only fetch when the per-link “Inline preview” dropdown is opened
   *   (still satisfies “only when region is expanded”, because you can’t open the preview otherwise).
   */
  const PRELOAD_ON_REGION_OPEN = false;

  // Consider a link “secondary HTML” if it ends with .html/.htm/.xhtml
  // OR if you explicitly mark it with class="secondary-link" or data-secondary="1".
  const SECONDARY_RE = /\.(?:xhtml|html?|htm)(?:[?#].*)?$/i;
  const IMG_RE = /\.(?:png|jpe?g|gif|webp|svg)(?:[?#].*)?$/i;

  // Cache fetches so repeated opens don't refetch the same page.
  const fetchCache = new Map(); // url -> Promise<string>

  function hydrateImageThumbnails(regionDetails) {
  const anchors = Array.from(regionDetails.querySelectorAll("a[href]"));

  for (const a of anchors) {
    const href = a.getAttribute("href") || "";
    if (!IMG_RE.test(href)) continue;

    // If already an image (e.g., you manually made one), skip.
    if (a.querySelector("img")) continue;

    // Make the link open the full image in a new tab (optional but usually nicer)
    a.target = "_blank";
    a.rel = "noopener";
    a.classList.add("thumb-link");

    // Preserve any trailing text after the link (your " — tags" etc.)
    // by wrapping it into a span so layout stays clean.
    const li = a.closest("li");
    if (li) {
      // Everything after the <a> currently sits as text nodes in the <li>.
      // We'll keep it, but wrap it so it sits next to the image neatly.
      // Only do this once.
      if (!li.querySelector(":scope > .thumb-caption")) {
        const caption = document.createElement("div");
        caption.className = "thumb-caption";

        // Move all nodes after <a> into caption
        let node = a.nextSibling;
        while (node) {
          const next = node.nextSibling;
          caption.appendChild(node);
          node = next;
        }
        li.appendChild(caption);
      }
    }

    // Replace link text with an <img> thumbnail.
    a.textContent = ""; // removes the URL/filename display

    const img = document.createElement("img");
    img.className = "thumb";
    img.loading = "lazy";
    img.decoding = "async";

    // Alt from filename (basic)
    try {
      const u = new URL(href, window.location.href);
      img.alt = (u.pathname.split("/").pop() || "image").replace(/[-_]/g, " ");
    } catch {
      img.alt = "image";
    }

    // Critical: only set src when region is open (this function is called on open)
    img.src = href;

    a.appendChild(img);
  }
}


  function fetchText(url) {
    if (!fetchCache.has(url)) {
      fetchCache.set(url, fetch(url, { cache: "force-cache" }).then(r => {
        if (!r.ok) throw new Error(`HTTP ${r.status}`);
        return r.text();
      }));
    }
    return fetchCache.get(url);
  }

  function extractForEmbed(htmlText) {
    const parser = new DOMParser();
    const doc = parser.parseFromString(htmlText, "text/html");

    // Remove scripts for safety and to avoid side-effects.
    doc.querySelectorAll("script").forEach(s => s.remove());

    // Collect inline <style> blocks.
    const styles = Array.from(doc.querySelectorAll("style"))
      .map(s => s.textContent || "")
      .join("\n");

    // Remove styles/links from body so they don't pollute the parent page.
    doc.body.querySelectorAll("style, link[rel='stylesheet']").forEach(n => n.remove());

    return { styles, content: doc.body.innerHTML, title: doc.title || "" };
  }

  function isSecondaryLink(a) {
    const href = a.getAttribute("href") || "";
    if (!href) return false;
    if (IMG_RE.test(href)) return false;

    return (
      SECONDARY_RE.test(href) ||
      a.dataset.secondary === "1" ||
      a.classList.contains("secondary-link")
    );
  }

  function ensureSecondaryPreviewUI(a) {
    const li = a.closest("li");
    if (!li) return;
    if (li.querySelector(":scope > details.secondary")) return;

    const href = a.getAttribute("href");

    const details = document.createElement("details");
    details.className = "secondary";

    // Minimal UI; embed area is filled on demand.
    details.innerHTML = `
      <summary>Inline preview</summary>
      <div class="secondary-status">Not loaded.</div>
      <div class="secondary-embed" data-href="${href.replace(/"/g, "&quot;")}"></div>
    `;

    li.appendChild(details);

    details.addEventListener("toggle", async () => {
      if (!details.open) return;

      const embed = details.querySelector(".secondary-embed");
      if (!embed || embed.dataset.loaded === "1") return;

      // Important: only load if the enclosing region is open (your requirement).
      const region = details.closest("details.region");
      if (!region || !region.open) return;

      const status = details.querySelector(".secondary-status");
      const url = embed.dataset.href;

      try {
        status.textContent = "Loading…";
        const htmlText = await fetchText(url);
        const { styles, content } = extractForEmbed(htmlText);

        // Shadow DOM isolates the embedded page's CSS so it doesn't leak into the parent.
        if (embed.attachShadow) {
          const root = embed.attachShadow({ mode: "open" });
          root.innerHTML = `
            <style>
              :host { display: block; }
              /* light reset inside the embedded view */
              body { margin: 0; }
            </style>
            <style>${styles}</style>
            <div class="embedded">${content}</div>
          `;
        } else {
          // Fallback: no isolation (older browsers).
          embed.innerHTML = `<div class="embedded">${content}</div>`;
        }

        embed.dataset.loaded = "1";
        status.textContent = "Loaded.";
      } catch (err) {
        status.textContent = `Failed to load (${url}): ${err.message || err}`;
      }
    });
  }

  function convertRegionSectionsToDetails() {
    document.querySelectorAll("section").forEach(sec => {
      const h3 = sec.querySelector(":scope > h3");
      const ul = sec.querySelector(":scope > ul");
      if (!h3 || !ul) return;

      const title = (h3.textContent || "").trim();
      if (!/^Region\b/i.test(title)) return;

      const details = document.createElement("details");
      details.className = "region";
      if (sec.getAttribute("style")) details.setAttribute("style", sec.getAttribute("style"));

      const summary = document.createElement("summary");
      summary.textContent = title;

      const body = document.createElement("div");
      body.className = "region-body";

      // Move <ul> into the dropdown body.
      body.appendChild(ul);

      details.appendChild(summary);
      details.appendChild(body);

      // Replace the entire section (drops the old h3).
      sec.replaceWith(details);
    });
  }

  async function onRegionOpen(regionDetails) {
  if (regionDetails.dataset.hydrated === "1") return;
  regionDetails.dataset.hydrated = "1";

  // NEW: turn image links into thumbnails (only loads now, on open)
  hydrateImageThumbnails(regionDetails);

  // Keep your existing HTML-inline-preview behaviour (if you still want it)
  const anchors = Array.from(regionDetails.querySelectorAll("a[href]"))
    .filter(isSecondaryLink);

  anchors.forEach(ensureSecondaryPreviewUI);

  if (PRELOAD_ON_REGION_OPEN) { /* unchanged */ }
}


  document.addEventListener("DOMContentLoaded", () => {
    convertRegionSectionsToDetails();

    document.querySelectorAll("details.region").forEach(d => {
      d.addEventListener("toggle", () => {
        if (d.open) onRegionOpen(d);
      });
    });
  });
})();
</script>

</body></html>
