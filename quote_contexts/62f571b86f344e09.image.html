<!DOCTYPE html>

<html lang="en"><head><meta charset="utf-8"/><title>Image Context 62f571b86f344e09</title>
<style>
body{font:14px/1.4 -apple-system,Segoe UI,Roboto,sans-serif;max-width:900px;margin:24px auto;padding:0 16px;color:#222}
h1{font-size:18px;margin:0 0 12px 0}
h2{font-size:16px;margin:16px 0 8px}
h3{font-size:14px;margin:10px 0 4px}
code,pre{background:#f6f8fa;padding:2px 4px;border-radius:4px}
figure{margin:10px 0;padding:8px;border:1px solid #e6e6e6;border-radius:8px}
figcaption{color:#555;font-size:12px;margin-top:6px}
pre {
  white-space: pre-wrap;     /* allow wrapping inside <pre> */
  overflow-wrap: anywhere;   /* break very long words/URLs */
  word-break: break-word;    /* fallback for older engines */
  max-width: 68ch;           /* ~68 characters line length */
  margin: 0 auto 10px;       /* center the block */
  line-height: 1.5;
}

figcaption {
  max-width: 68ch;           /* keep the sentence narrow */
  margin: 6px auto 0;        /* center under the image */
  white-space: normal;       /* ensure wrapping */
  overflow-wrap: anywhere;
  word-break: break-word;
  line-height: 1.5;
}
</style>
</head><body>
<h1>Image context</h1>
<p><strong>Search input:</strong></p>
<pre>In all of this the window serves as the prop for discovering new and unexpected relationships between the inside and outside.</pre>
<p><strong>Search mode:</strong> paragraph_v   <strong>Targeting:</strong> 1.5×</p>
<h2>Selected image</h2>
<figure>
<a href="assets/film_scenes/Contempt.1963.(Jean-Luc Godard).1080p.BRRip.x264-Classics__01-29-10.000__01-29-37.000__2149892796e3.mp4" rel="noopener" target="_blank"><img alt="" data-film-frame-url="/film-frame?film=%2FVolumes%2FPhD_drive2%2FVTFilms%2FContempt.1963.%28Jean-Luc+Godard%29.1080p.BRRip.x264-Classics.mkv&amp;t=5370.000&amp;w=1024" data-scene-end="5377.000" data-scene-href="assets/film_scenes/Contempt.1963.(Jean-Luc Godard).1080p.BRRip.x264-Classics__01-29-10.000__01-29-37.000__2149892796e3.mp4" data-scene-start="5350.000" src="assets/film_frames/Contempt_-_Jean-Luc_Godard_(1963)__04dc8f934e__t05370.000__tc01-29-30.000__w1024.jpg" style="max-width:100%;height:auto;"/></a>
<figcaption>Region 0 — anteroom, incorporated, lounge, stair</figcaption>
</figure>
<h2>All regions</h2>
<section style="margin:16px 0;"><h3 style="margin:6px 0;">Region 0 — ['courtyard', 'femininity', 'oleander', 'madame', 'rosebush'], ['landscape', 'stair', 'hideaway', 'jailbreak'], ['jailbreak', 'proprietor', 'clothed', 'courtyard'], ['handbag', 'clothed', 'madame', 'femininity'], ['anteroom', 'incorporated', 'lounge', 'stair'], ['enquiry', 'rosebush', 'anteroom'], ['incorporated', 'enquiry', 'proprietor'], ['hideaway', 'struck', 'compelled'], ['jailbreak', 'explicit', 'lounge', 'compelled'], ['counterattack', 'deflecting', 'explicit'], ['mattress', 'sheer', 'bedpost'], ['deflecting', 'bedpost', 'struck'], ['tapestry', 'lacquer'], ['lacquer', 'tapestry'], ['landscape', 'reconnaissance'], ['registrar', 'courtyard', 'refurbish'], ['oleander', 'dress', 'bedpost'], ['counterattack', 'deflecting', 'tearful'], ['hairstyle', 'bedpost', 'flatmate'], ['sheer', 'anteroom', 'bedpost']</h3><ul style="margin:6px 0 0 18px;"><li><a href="assets/film_frames_300/Kikis_Delivery_Service_-_Hayao_Miyazaki_(1989)__10d3ca6277__t00214.000__tc00-03-34.000__w300.jpg" target="_blank">assets/film_frames_300/Kikis_Delivery_Service_-_Hayao_Miyazaki_(1989)__10d3ca6277__t00214.000__tc00-03-34.000__w300.jpg</a> — ['courtyard', 'femininity', 'oleander', 'madame', 'rosebush']</li><li><a href="assets/film_frames_300/Taste_of_Cherry_-_Abbas_Kiarostami_(1997)__b872bcb7c9__t02399.000__tc00-39-59.000__w300.jpg" target="_blank">assets/film_frames_300/Taste_of_Cherry_-_Abbas_Kiarostami_(1997)__b872bcb7c9__t02399.000__tc00-39-59.000__w300.jpg</a> — ['landscape', 'stair', 'hideaway', 'jailbreak']</li><li><a href="assets/film_frames_300/Talk_to_Her_(Hable_con_ella)_-_Pedro_Almodvar_(2002)__076eef2c62__t05580.000__tc01-33-00.000__w300.jpg" target="_blank">assets/film_frames_300/Talk_to_Her_(Hable_con_ella)_-_Pedro_Almodvar_(2002)__076eef2c62__t05580.000__tc01-33-00.000__w300.jpg</a> — ['jailbreak', 'proprietor', 'clothed', 'courtyard']</li><li><a href="assets/film_frames_300/Taxi_Driver_-_Martin_Scorsese_(1976)__ce43087061__t00647.000__tc00-10-47.000__w300.jpg" target="_blank">assets/film_frames_300/Taxi_Driver_-_Martin_Scorsese_(1976)__ce43087061__t00647.000__tc00-10-47.000__w300.jpg</a> — ['handbag', 'clothed', 'madame', 'femininity']</li><li><a href="assets/film_frames_300/Contempt_-_Jean-Luc_Godard_(1963)__04dc8f934e__t05370.000__tc01-29-30.000__w300.jpg" target="_blank">assets/film_frames_300/Contempt_-_Jean-Luc_Godard_(1963)__04dc8f934e__t05370.000__tc01-29-30.000__w300.jpg</a> — ['anteroom', 'incorporated', 'lounge', 'stair']</li><li><a href="assets/film_frames_300/The_Wind_That_Shakes_the_Barley_-_Ken_Loach_(2006)__368c92e11a__t05395.000__tc01-29-55.000__w300.jpg" target="_blank">assets/film_frames_300/The_Wind_That_Shakes_the_Barley_-_Ken_Loach_(2006)__368c92e11a__t05395.000__tc01-29-55.000__w300.jpg</a> — ['enquiry', 'rosebush', 'anteroom']</li><li><a href="assets/film_frames_300/Labyrinth_of_Passion_(Laberinto_de_pasiones)_-_Pedro_Almodvar_(1982)__f8ea58c81a__t03730.000__tc01-02-10.000__w300.jpg" target="_blank">assets/film_frames_300/Labyrinth_of_Passion_(Laberinto_de_pasiones)_-_Pedro_Almodvar_(1982)__f8ea58c81a__t03730.000__tc01-02-10.000__w300.jpg</a> — ['incorporated', 'enquiry', 'proprietor']</li><li><a href="assets/film_frames_300/All_About_My_Mother_(Todo_sobre_mi_madre)_-_Pedro_Almodvar_(1999)__3c37a930a4__t01501.000__tc00-25-01.000__w300.jpg" target="_blank">assets/film_frames_300/All_About_My_Mother_(Todo_sobre_mi_madre)_-_Pedro_Almodvar_(1999)__3c37a930a4__t01501.000__tc00-25-01.000__w300.jpg</a> — ['hideaway', 'struck', 'compelled']</li><li><a href="assets/film_frames_300/Jackie_Brown_-_Quentin_Tarantino_(1997)__fcd91eefb2__t05550.000__tc01-32-30.000__w300.jpg" target="_blank">assets/film_frames_300/Jackie_Brown_-_Quentin_Tarantino_(1997)__fcd91eefb2__t05550.000__tc01-32-30.000__w300.jpg</a> — ['jailbreak', 'explicit', 'lounge', 'compelled']</li><li><a href="assets/film_frames_300/The_Wolf_of_Wall_Street_-_Martin_Scorsese_(2013)__76172b66e7__t06677.000__tc01-51-17.000__w300.jpg" target="_blank">assets/film_frames_300/The_Wolf_of_Wall_Street_-_Martin_Scorsese_(2013)__76172b66e7__t06677.000__tc01-51-17.000__w300.jpg</a> — ['counterattack', 'deflecting', 'explicit']</li><li><a href="assets/film_frames_300/The_Young_Pope_S01E01_-_Paolo_Sorrentino_(2016)__ca481301ea__t00300.000__tc00-05-00.000__w300.jpg" target="_blank">assets/film_frames_300/The_Young_Pope_S01E01_-_Paolo_Sorrentino_(2016)__ca481301ea__t00300.000__tc00-05-00.000__w300.jpg</a> — ['mattress', 'sheer', 'bedpost']</li><li><a href="assets/film_frames_300/Reservoir_Dogs_-_Quentin_Tarantino_(1992)__6b2fbc1161__t04150.000__tc01-09-10.000__w300.jpg" target="_blank">assets/film_frames_300/Reservoir_Dogs_-_Quentin_Tarantino_(1992)__6b2fbc1161__t04150.000__tc01-09-10.000__w300.jpg</a> — ['deflecting', 'bedpost', 'struck']</li><li><a href="assets/film_frames_300/Madadayo_-_Akira_Kurosawa_(1993)__433317a272__t03825.000__tc01-03-45.000__w300.jpg" target="_blank">assets/film_frames_300/Madadayo_-_Akira_Kurosawa_(1993)__433317a272__t03825.000__tc01-03-45.000__w300.jpg</a> — ['tapestry', 'lacquer']</li><li><a href="assets/film_frames_300/Spirited_Away_-_Hayao_Miyazaki_(2001)__233a4c44d0__t05505.000__tc01-31-45.000__w300.jpg" target="_blank">assets/film_frames_300/Spirited_Away_-_Hayao_Miyazaki_(2001)__233a4c44d0__t05505.000__tc01-31-45.000__w300.jpg</a> — ['lacquer', 'tapestry']</li><li><a href="assets/film_frames_300/Andrei_Rublev_-_Andrei_Tarkovsky_(1966)__dd4f0a4e28__t00530.000__tc00-08-50.000__w300.jpg" target="_blank">assets/film_frames_300/Andrei_Rublev_-_Andrei_Tarkovsky_(1966)__dd4f0a4e28__t00530.000__tc00-08-50.000__w300.jpg</a> — ['landscape', 'reconnaissance']</li><li><a href="assets/film_frames_300/Marie_Antoinette_-_Sofia_Coppola_(2006)__35717a1c3d__t02203.000__tc00-36-43.000__w300.jpg" target="_blank">assets/film_frames_300/Marie_Antoinette_-_Sofia_Coppola_(2006)__35717a1c3d__t02203.000__tc00-36-43.000__w300.jpg</a> — ['registrar', 'courtyard', 'refurbish']</li><li><a href="assets/film_frames_300/The_Skin_I_Live_In_(La_piel_que_habito)_-_Pedro_Almodvar_(2011)__e9ae6a3740__t03326.000__tc00-55-26.000__w300.jpg" target="_blank">assets/film_frames_300/The_Skin_I_Live_In_(La_piel_que_habito)_-_Pedro_Almodvar_(2011)__e9ae6a3740__t03326.000__tc00-55-26.000__w300.jpg</a> — ['oleander', 'dress', 'bedpost']</li><li><a href="assets/film_frames_300/The_Graduate_-_Mike_Nichols_(1967)__0d84fdbb74__t04137.000__tc01-08-57.000__w300.jpg" target="_blank">assets/film_frames_300/The_Graduate_-_Mike_Nichols_(1967)__0d84fdbb74__t04137.000__tc01-08-57.000__w300.jpg</a> — ['counterattack', 'deflecting', 'tearful']</li><li><a href="assets/film_frames_300/Three_Billboards_Outside_Ebbing,_Missouri_-_Martin_McDonagh_(2017)__3f1ca987cc__t00306.000__tc00-05-06.000__w300.jpg" target="_blank">assets/film_frames_300/Three_Billboards_Outside_Ebbing,_Missouri_-_Martin_McDonagh_(2017)__3f1ca987cc__t00306.000__tc00-05-06.000__w300.jpg</a> — ['hairstyle', 'bedpost', 'flatmate']</li><li><a href="assets/film_frames_300/Notes_on_a_Scandal_-_Richard_Eyre_(2006)__7cc0470abc__t04177.000__tc01-09-37.000__w300.jpg" target="_blank">assets/film_frames_300/Notes_on_a_Scandal_-_Richard_Eyre_(2006)__7cc0470abc__t04177.000__tc01-09-37.000__w300.jpg</a> — ['sheer', 'anteroom', 'bedpost']</li></ul></section>
<section style="margin:16px 0;"><h3 style="margin:6px 0;">Region 1 — ['peeking', 'infiltrating', 'enter', 'burglarized', 'eavesdrop', 'mirrored'], ['disguising', 'imprisonment', 'eavesdrop', 'mirrored', 'peeking', 'quartet'], ['imprisonment', 'renovating', 'finch', 'squalor'], ['mirrored', 'finch', 'squalor', 'burglarized'], ['sorrowful', 'mark', 'saddest', 'mirrored'], ['sorrowful', 'nightgown', 'saddest'], ['blindfold', 'texture', 'rubbing'], ['texture', 'obstacle', 'renovating'], ['eyesore', 'slum', 'enter'], ['quartet', 'mirrored', 'peeking', 'infiltrating'], ['transsexual', 'mirrored', 'burglarized', 'coven'], ['aligned', 'eyesore', 'mirrored'], ['nightgown', 'transsexual'], ['jellybean', 'mark'], ['spraying', 'aligned', 'mirrored'], ['syringe', 'casualty', 'burglarized'], ['blindfold', 'imprisonment', 'texture', 'obstacle'], ['texture', 'rubbing'], ['peeking', 'burglarized', 'barmaid'], ['squalor', 'barmaid']</h3><ul style="margin:6px 0 0 18px;"><li><a href="assets/film_frames_300/The_Florida_Project_-_Sean_Baker_(2017)__3805f8515d__t03479.000__tc00-57-59.000__w300.jpg" target="_blank">assets/film_frames_300/The_Florida_Project_-_Sean_Baker_(2017)__3805f8515d__t03479.000__tc00-57-59.000__w300.jpg</a> — ['peeking', 'infiltrating', 'enter', 'burglarized', 'eavesdrop', 'mirrored']</li><li><a href="assets/film_frames_300/The_Marriage_of_Maria_Braun_-_Rainer_Werner_Fassbinder_(1979)__f0be7cedb8__t04310.000__tc01-11-50.000__w300.jpg" target="_blank">assets/film_frames_300/The_Marriage_of_Maria_Braun_-_Rainer_Werner_Fassbinder_(1979)__f0be7cedb8__t04310.000__tc01-11-50.000__w300.jpg</a> — ['disguising', 'imprisonment', 'eavesdrop', 'mirrored', 'peeking', 'quartet']</li><li><a href="assets/film_frames_300/The_Marriage_of_Maria_Braun_-_Rainer_Werner_Fassbinder_(1979)__bcb20caa6e__t00520.000__tc00-08-40.000__w300.jpg" target="_blank">assets/film_frames_300/The_Marriage_of_Maria_Braun_-_Rainer_Werner_Fassbinder_(1979)__bcb20caa6e__t00520.000__tc00-08-40.000__w300.jpg</a> — ['imprisonment', 'renovating', 'finch', 'squalor']</li><li><a href="assets/film_frames_300/Caught_Stealing_-_Darren_Aronofsky_(2025)__4d79eb5550__t01340.000__tc00-22-20.000__w300.jpg" target="_blank">assets/film_frames_300/Caught_Stealing_-_Darren_Aronofsky_(2025)__4d79eb5550__t01340.000__tc00-22-20.000__w300.jpg</a> — ['mirrored', 'finch', 'squalor', 'burglarized']</li><li><a href="assets/film_frames_300/Django_Unchained_-_Quentin_Tarantino_(2012)__645abd6d8c__t03676.000__tc01-01-16.000__w300.jpg" target="_blank">assets/film_frames_300/Django_Unchained_-_Quentin_Tarantino_(2012)__645abd6d8c__t03676.000__tc01-01-16.000__w300.jpg</a> — ['sorrowful', 'mark', 'saddest', 'mirrored']</li><li><a href="assets/film_frames_300/Mulholland_Dr._-_David_Lynch_(2001)__90331200d6__t07200.000__tc02-00-00.000__w300.jpg" target="_blank">assets/film_frames_300/Mulholland_Dr._-_David_Lynch_(2001)__90331200d6__t07200.000__tc02-00-00.000__w300.jpg</a> — ['sorrowful', 'nightgown', 'saddest']</li><li><a href="assets/film_frames_300/Stntang_-_Bla_Tarr_(1994)__05c6742ca3__t04780.000__tc01-19-40.000__w300.jpg" target="_blank">assets/film_frames_300/Stntang_-_Bla_Tarr_(1994)__05c6742ca3__t04780.000__tc01-19-40.000__w300.jpg</a> — ['blindfold', 'texture', 'rubbing']</li><li><a href="assets/film_frames_300/Taste_of_Cherry_-_Abbas_Kiarostami_(1997)__8b0a2adab5__t02663.000__tc00-44-23.000__w300.jpg" target="_blank">assets/film_frames_300/Taste_of_Cherry_-_Abbas_Kiarostami_(1997)__8b0a2adab5__t02663.000__tc00-44-23.000__w300.jpg</a> — ['texture', 'obstacle', 'renovating']</li><li><a href="assets/film_frames_300/Parasite_-_Bong_Joon-ho_(2019)__158e0076c2__t00202.000__tc00-03-22.000__w300.jpg" target="_blank">assets/film_frames_300/Parasite_-_Bong_Joon-ho_(2019)__158e0076c2__t00202.000__tc00-03-22.000__w300.jpg</a> — ['eyesore', 'slum', 'enter']</li><li><a href="assets/film_frames_300/Underground_-_Emir_Kusturica_(1995)__393bd2124f__t02900.000__tc00-48-20.000__w300.jpg" target="_blank">assets/film_frames_300/Underground_-_Emir_Kusturica_(1995)__393bd2124f__t02900.000__tc00-48-20.000__w300.jpg</a> — ['quartet', 'mirrored', 'peeking', 'infiltrating']</li><li><a href="assets/film_frames_300/All_About_My_Mother_(Todo_sobre_mi_madre)_-_Pedro_Almodvar_(1999)__9586d26876__t01500.000__tc00-25-00.000__w300.jpg" target="_blank">assets/film_frames_300/All_About_My_Mother_(Todo_sobre_mi_madre)_-_Pedro_Almodvar_(1999)__9586d26876__t01500.000__tc00-25-00.000__w300.jpg</a> — ['transsexual', 'mirrored', 'burglarized', 'coven']</li><li><a href="assets/film_frames_300/Parasite_-_Bong_Joon-ho_(2019)__b082dad121__t00379.000__tc00-06-19.000__w300.jpg" target="_blank">assets/film_frames_300/Parasite_-_Bong_Joon-ho_(2019)__b082dad121__t00379.000__tc00-06-19.000__w300.jpg</a> — ['aligned', 'eyesore', 'mirrored']</li><li><a href="assets/film_frames_300/Law_of_Desire_(La_ley_del_deseo)_-_Pedro_Almodvar_(1987)__7feb2b9257__t04367.000__tc01-12-47.000__w300.jpg" target="_blank">assets/film_frames_300/Law_of_Desire_(La_ley_del_deseo)_-_Pedro_Almodvar_(1987)__7feb2b9257__t04367.000__tc01-12-47.000__w300.jpg</a> — ['nightgown', 'transsexual']</li><li><a href="assets/film_frames_300/The_Killing_of_a_Sacred_Deer_-_Yorgos_Lanthimos_(2017)__75266fdc3c__t02987.000__tc00-49-47.000__w300.jpg" target="_blank">assets/film_frames_300/The_Killing_of_a_Sacred_Deer_-_Yorgos_Lanthimos_(2017)__75266fdc3c__t02987.000__tc00-49-47.000__w300.jpg</a> — ['jellybean', 'mark']</li><li><a href="assets/film_frames_300/The_Cook,_the_Thief,_His_Wife_Her_Lover_-_Peter_Greenaway_(1989)__eeefc16334__t01720.000__tc00-28-40.000__w300.jpg" target="_blank">assets/film_frames_300/The_Cook,_the_Thief,_His_Wife_Her_Lover_-_Peter_Greenaway_(1989)__eeefc16334__t01720.000__tc00-28-40.000__w300.jpg</a> — ['spraying', 'aligned', 'mirrored']</li><li><a href="assets/film_frames_300/Once_Upon_a_Time_in_Anatolia_-_Nuri_Bilge_Ceylan_(2011)__35070c426b__t08750.000__tc02-25-50.000__w300.jpg" target="_blank">assets/film_frames_300/Once_Upon_a_Time_in_Anatolia_-_Nuri_Bilge_Ceylan_(2011)__35070c426b__t08750.000__tc02-25-50.000__w300.jpg</a> — ['syringe', 'casualty', 'burglarized']</li><li><a href="assets/film_frames_300/Taste_of_Cherry_-_Abbas_Kiarostami_(1997)__b60a7c7d16__t02632.000__tc00-43-52.000__w300.jpg" target="_blank">assets/film_frames_300/Taste_of_Cherry_-_Abbas_Kiarostami_(1997)__b60a7c7d16__t02632.000__tc00-43-52.000__w300.jpg</a> — ['blindfold', 'imprisonment', 'texture', 'obstacle']</li><li><a href="assets/film_frames_300/Contempt_-_Jean-Luc_Godard_(1963)__7b8f11acea__t03910.000__tc01-05-10.000__w300.jpg" target="_blank">assets/film_frames_300/Contempt_-_Jean-Luc_Godard_(1963)__7b8f11acea__t03910.000__tc01-05-10.000__w300.jpg</a> — ['texture', 'rubbing']</li><li><a href="assets/film_frames_300/Kikis_Delivery_Service_-_Hayao_Miyazaki_(1989)__f920978b74__t05230.000__tc01-27-10.000__w300.jpg" target="_blank">assets/film_frames_300/Kikis_Delivery_Service_-_Hayao_Miyazaki_(1989)__f920978b74__t05230.000__tc01-27-10.000__w300.jpg</a> — ['peeking', 'burglarized', 'barmaid']</li><li><a href="assets/film_frames_300/Fight_Club_-_David_Fincher_(1999)__5d873d24d4__t03605.000__tc01-00-05.000__w300.jpg" target="_blank">assets/film_frames_300/Fight_Club_-_David_Fincher_(1999)__5d873d24d4__t03605.000__tc01-00-05.000__w300.jpg</a> — ['squalor', 'barmaid']</li></ul></section>
<section style="margin:16px 0;"><h3 style="margin:6px 0;">Region 2 — ['speakerphone', 'domesticity', 'precinct', 'consulate', 'deacon'], ['wardrobe', 'domesticity', 'deacon', 'hallway'], ['consulate', 'precinct', 'broker', 'speakerphone'], ['elope', 'wardrobe', 'activate', 'snapshot'], ['invisibly', 'consulate', 'precinct', 'hallway'], ['magnesia', 'rhinoplasty'], ['radiator', 'invisibly', 'domesticity'], ['broker', 'magnesia'], ['rhinoplasty', 'handcuffed'], ['radiator', 'psychoanalysis', 'domesticity'], ['handcuffed', 'fingering'], ['heartbeat', 'domesticity', 'tea'], ['holster', 'plunger'], ['cry', 'domesticity', 'bawling'], ['bawling', 'cry'], ['consulate', 'bled', 'psychoanalysis', 'deacon'], ['sign', 'undersigned'], ['architect', 'squat'], ['intuitive', 'sign'], ['architect', 'ceiling']</h3><ul style="margin:6px 0 0 18px;"><li><a href="assets/film_frames_300/The_Wind_That_Shakes_the_Barley_-_Ken_Loach_(2006)__7dbe52e611__t05422.000__tc01-30-22.000__w300.jpg" target="_blank">assets/film_frames_300/The_Wind_That_Shakes_the_Barley_-_Ken_Loach_(2006)__7dbe52e611__t05422.000__tc01-30-22.000__w300.jpg</a> — ['speakerphone', 'domesticity', 'precinct', 'consulate', 'deacon']</li><li><a href="assets/film_frames_300/High_Heels_(Tacones_lejanos)_-_Pedro_Almodvar_(1991)__76d7af43a5__t00440.000__tc00-07-20.000__w300.jpg" target="_blank">assets/film_frames_300/High_Heels_(Tacones_lejanos)_-_Pedro_Almodvar_(1991)__76d7af43a5__t00440.000__tc00-07-20.000__w300.jpg</a> — ['wardrobe', 'domesticity', 'deacon', 'hallway']</li><li><a href="assets/film_frames_300/Labyrinth_of_Passion_(Laberinto_de_pasiones)_-_Pedro_Almodvar_(1982)__44aea9d09d__t01142.000__tc00-19-02.000__w300.jpg" target="_blank">assets/film_frames_300/Labyrinth_of_Passion_(Laberinto_de_pasiones)_-_Pedro_Almodvar_(1982)__44aea9d09d__t01142.000__tc00-19-02.000__w300.jpg</a> — ['consulate', 'precinct', 'broker', 'speakerphone']</li><li><a href="assets/film_frames_300/Live_Flesh_(Carne_trmula)_-_Pedro_Almodvar_(1997)__1e1dd872d2__t05250.000__tc01-27-30.000__w300.jpg" target="_blank">assets/film_frames_300/Live_Flesh_(Carne_trmula)_-_Pedro_Almodvar_(1997)__1e1dd872d2__t05250.000__tc01-27-30.000__w300.jpg</a> — ['elope', 'wardrobe', 'activate', 'snapshot']</li><li><a href="assets/film_frames_300/No_Country_for_Old_Men_-_Joel_Ethan_Coen_(2007)__a203466d3d__t02450.000__tc00-40-50.000__w300.jpg" target="_blank">assets/film_frames_300/No_Country_for_Old_Men_-_Joel_Ethan_Coen_(2007)__a203466d3d__t02450.000__tc00-40-50.000__w300.jpg</a> — ['invisibly', 'consulate', 'precinct', 'hallway']</li><li><a href="assets/film_frames_300/Parthenope_-_Paolo_Sorrentino_(2023)__4c84443cfe__t01581.000__tc00-26-21.000__w300.jpg" target="_blank">assets/film_frames_300/Parthenope_-_Paolo_Sorrentino_(2023)__4c84443cfe__t01581.000__tc00-26-21.000__w300.jpg</a> — ['magnesia', 'rhinoplasty']</li><li><a href="assets/film_frames_300/What_Have_I_Done_to_Deserve_This_-_Pedro_Almodvar_(1984)__a6712ddd05__t02600.000__tc00-43-20.000__w300.jpg" target="_blank">assets/film_frames_300/What_Have_I_Done_to_Deserve_This_-_Pedro_Almodvar_(1984)__a6712ddd05__t02600.000__tc00-43-20.000__w300.jpg</a> — ['radiator', 'invisibly', 'domesticity']</li><li><a href="assets/film_frames_300/Jackie_Brown_-_Quentin_Tarantino_(1997)__fcd91eefb2__t05550.000__tc01-32-30.000__w300.jpg" target="_blank">assets/film_frames_300/Jackie_Brown_-_Quentin_Tarantino_(1997)__fcd91eefb2__t05550.000__tc01-32-30.000__w300.jpg</a> — ['broker', 'magnesia']</li><li><a href="assets/film_frames_300/28_Days_Later_-_Danny_Boyle_(2002)__25bebedfa4__t01310.000__tc00-21-50.000__w300.jpg" target="_blank">assets/film_frames_300/28_Days_Later_-_Danny_Boyle_(2002)__25bebedfa4__t01310.000__tc00-21-50.000__w300.jpg</a> — ['rhinoplasty', 'handcuffed']</li><li><a href="assets/film_frames_300/Mirror_(Zerkalo)_-_Andrei_Tarkovsky_(1975)__4d69e1b2a8__t02280.000__tc00-38-00.000__w300.jpg" target="_blank">assets/film_frames_300/Mirror_(Zerkalo)_-_Andrei_Tarkovsky_(1975)__4d69e1b2a8__t02280.000__tc00-38-00.000__w300.jpg</a> — ['radiator', 'psychoanalysis', 'domesticity']</li><li><a href="assets/film_frames_300/Kill_Bill_Vol._1_-_Quentin_Tarantino_(2003)__19feaad85d__t03310.000__tc00-55-10.000__w300.jpg" target="_blank">assets/film_frames_300/Kill_Bill_Vol._1_-_Quentin_Tarantino_(2003)__19feaad85d__t03310.000__tc00-55-10.000__w300.jpg</a> — ['handcuffed', 'fingering']</li><li><a href="assets/film_frames_300/Babylon_-_Damien_Chazelle_(2022)__bf1d474361__t02797.000__tc00-46-37.000__w300.jpg" target="_blank">assets/film_frames_300/Babylon_-_Damien_Chazelle_(2022)__bf1d474361__t02797.000__tc00-46-37.000__w300.jpg</a> — ['heartbeat', 'domesticity', 'tea']</li><li><a href="assets/film_frames_300/Dogville_-_Lars_von_Trier_(2003)__8739fbc319__t08804.000__tc02-26-44.000__w300.jpg" target="_blank">assets/film_frames_300/Dogville_-_Lars_von_Trier_(2003)__8739fbc319__t08804.000__tc02-26-44.000__w300.jpg</a> — ['holster', 'plunger']</li><li><a href="assets/film_frames_300/Mulholland_Dr._-_David_Lynch_(2001)__2cbafe5a5c__t07210.000__tc02-00-10.000__w300.jpg" target="_blank">assets/film_frames_300/Mulholland_Dr._-_David_Lynch_(2001)__2cbafe5a5c__t07210.000__tc02-00-10.000__w300.jpg</a> — ['cry', 'domesticity', 'bawling']</li><li><a href="assets/film_frames_300/Talk_to_Her_(Hable_con_ella)_-_Pedro_Almodvar_(2002)__5e268cfe78__t03340.000__tc00-55-40.000__w300.jpg" target="_blank">assets/film_frames_300/Talk_to_Her_(Hable_con_ella)_-_Pedro_Almodvar_(2002)__5e268cfe78__t03340.000__tc00-55-40.000__w300.jpg</a> — ['bawling', 'cry']</li><li><a href="assets/film_frames_300/The_Conversation_-_Francis_Ford_Coppola_(1974)__9e9dbfd7d6__t05260.000__tc01-27-40.000__w300.jpg" target="_blank">assets/film_frames_300/The_Conversation_-_Francis_Ford_Coppola_(1974)__9e9dbfd7d6__t05260.000__tc01-27-40.000__w300.jpg</a> — ['consulate', 'bled', 'psychoanalysis', 'deacon']</li><li><a href="assets/film_frames_300/Whisper_of_the_Heart_-_Yoshifumi_Kond_(1995)__6e6dc2b924__t02750.000__tc00-45-50.000__w300.jpg" target="_blank">assets/film_frames_300/Whisper_of_the_Heart_-_Yoshifumi_Kond_(1995)__6e6dc2b924__t02750.000__tc00-45-50.000__w300.jpg</a> — ['sign', 'undersigned']</li><li><a href="assets/film_frames_300/Three_Colours_Red_-_Krzysztof_Kielowski_(1994)__ce245fe8e0__t00255.000__tc00-04-15.000__w300.jpg" target="_blank">assets/film_frames_300/Three_Colours_Red_-_Krzysztof_Kielowski_(1994)__ce245fe8e0__t00255.000__tc00-04-15.000__w300.jpg</a> — ['architect', 'squat']</li><li><a href="assets/film_frames_300/Parasite_-_Bong_Joon-ho_(2019)__08bd5bcd53__t07375.000__tc02-02-55.000__w300.jpg" target="_blank">assets/film_frames_300/Parasite_-_Bong_Joon-ho_(2019)__08bd5bcd53__t07375.000__tc02-02-55.000__w300.jpg</a> — ['intuitive', 'sign']</li><li><a href="assets/film_frames_300/Werckmeister_Harmonies_-_Bla_Tarr_gnes_Hranitzky_(2000)__17f1d87663__t07104.000__tc01-58-24.000__w300.jpg" target="_blank">assets/film_frames_300/Werckmeister_Harmonies_-_Bla_Tarr_gnes_Hranitzky_(2000)__17f1d87663__t07104.000__tc01-58-24.000__w300.jpg</a> — ['architect', 'ceiling']</li></ul></section>
<style>
  /* Region dropdowns */
  details.region {
    margin: 16px 0;
    border: 1px solid #e6e6e6;
    border-radius: 10px;
    padding: 8px 10px;
    background: #fff;
  }
  details.region > summary {
    cursor: pointer;
    font-weight: 600;
    list-style: none;
    outline: none;
  }
  details.region > summary::-webkit-details-marker { display: none; }
  details.region[open] > summary { margin-bottom: 8px; }

  /* Secondary (inline preview) dropdowns under each link */
  details.secondary {
    margin-top: 6px;
    border-left: 3px solid #e6e6e6;
    padding-left: 10px;
  }
  details.secondary > summary {
    cursor: pointer;
    font-size: 12px;
    color: #444;
    list-style: none;
    outline: none;
  }
  details.secondary > summary::-webkit-details-marker { display: none; }

  .secondary-status {
    font-size: 12px;
    color: #666;
    margin: 6px 0;
  }
  .secondary-embed {
    border: 1px solid #eee;
    border-radius: 8px;
    padding: 8px;
    overflow: auto;
    max-height: 70vh;
    background: #fafafa;
  }
  details.region ul { padding-left: 0; }
  details.region li {
    list-style: none;
    display: flex;
    gap: 10px;
    align-items: flex-start;
    margin: 10px 0;
  }

  a.thumb-link { display: inline-block; }
  img.thumb {
    display: block;
    width: 140px;          /* tweak as desired */
    height: auto;
    border: 1px solid #e6e6e6;
    border-radius: 10px;
    background: #fff;
  }

  /* If you want the caption text to wrap nicely next to the thumb */
  .thumb-caption {
    line-height: 1.25;
  }
</style>
<script>
(() => {
  /**
   * Controls behaviour:
   * - If true: when a REGION opens, prefetch all secondary HTML previews in that region.
   * - If false (default): only fetch when the per-link “Inline preview” dropdown is opened
   *   (still satisfies “only when region is expanded”, because you can’t open the preview otherwise).
   */
  const PRELOAD_ON_REGION_OPEN = false;

  // Consider a link “secondary HTML” if it ends with .html/.htm/.xhtml
  // OR if you explicitly mark it with class="secondary-link" or data-secondary="1".
  const SECONDARY_RE = /\.(?:xhtml|html?|htm)(?:[?#].*)?$/i;
  const IMG_RE = /\.(?:png|jpe?g|gif|webp|svg)(?:[?#].*)?$/i;

  // Cache fetches so repeated opens don't refetch the same page.
  const fetchCache = new Map(); // url -> Promise<string>

  function hydrateImageThumbnails(regionDetails) {
  const anchors = Array.from(regionDetails.querySelectorAll("a[href]"));

  for (const a of anchors) {
    const href = a.getAttribute("href") || "";
    if (!IMG_RE.test(href)) continue;

    // If already an image (e.g., you manually made one), skip.
    if (a.querySelector("img")) continue;

    // Make the link open the full image in a new tab (optional but usually nicer)
    a.target = "_blank";
    a.rel = "noopener";
    a.classList.add("thumb-link");

    // Preserve any trailing text after the link (your " — tags" etc.)
    // by wrapping it into a span so layout stays clean.
    const li = a.closest("li");
    if (li) {
      // Everything after the <a> currently sits as text nodes in the <li>.
      // We'll keep it, but wrap it so it sits next to the image neatly.
      // Only do this once.
      if (!li.querySelector(":scope > .thumb-caption")) {
        const caption = document.createElement("div");
        caption.className = "thumb-caption";

        // Move all nodes after <a> into caption
        let node = a.nextSibling;
        while (node) {
          const next = node.nextSibling;
          caption.appendChild(node);
          node = next;
        }
        li.appendChild(caption);
      }
    }

    // Replace link text with an <img> thumbnail.
    a.textContent = ""; // removes the URL/filename display

    const img = document.createElement("img");
    img.className = "thumb";
    img.loading = "lazy";
    img.decoding = "async";

    // Alt from filename (basic)
    try {
      const u = new URL(href, window.location.href);
      img.alt = (u.pathname.split("/").pop() || "image").replace(/[-_]/g, " ");
    } catch {
      img.alt = "image";
    }

    // Critical: only set src when region is open (this function is called on open)
    img.src = href;

    a.appendChild(img);
  }
}


  function fetchText(url) {
    if (!fetchCache.has(url)) {
      fetchCache.set(url, fetch(url, { cache: "force-cache" }).then(r => {
        if (!r.ok) throw new Error(`HTTP ${r.status}`);
        return r.text();
      }));
    }
    return fetchCache.get(url);
  }

  function extractForEmbed(htmlText) {
    const parser = new DOMParser();
    const doc = parser.parseFromString(htmlText, "text/html");

    // Remove scripts for safety and to avoid side-effects.
    doc.querySelectorAll("script").forEach(s => s.remove());

    // Collect inline <style> blocks.
    const styles = Array.from(doc.querySelectorAll("style"))
      .map(s => s.textContent || "")
      .join("\n");

    // Remove styles/links from body so they don't pollute the parent page.
    doc.body.querySelectorAll("style, link[rel='stylesheet']").forEach(n => n.remove());

    return { styles, content: doc.body.innerHTML, title: doc.title || "" };
  }

  function isSecondaryLink(a) {
    const href = a.getAttribute("href") || "";
    if (!href) return false;
    if (IMG_RE.test(href)) return false;

    return (
      SECONDARY_RE.test(href) ||
      a.dataset.secondary === "1" ||
      a.classList.contains("secondary-link")
    );
  }

  function ensureSecondaryPreviewUI(a) {
    const li = a.closest("li");
    if (!li) return;
    if (li.querySelector(":scope > details.secondary")) return;

    const href = a.getAttribute("href");

    const details = document.createElement("details");
    details.className = "secondary";

    // Minimal UI; embed area is filled on demand.
    details.innerHTML = `
      <summary>Inline preview</summary>
      <div class="secondary-status">Not loaded.</div>
      <div class="secondary-embed" data-href="${href.replace(/"/g, "&quot;")}"></div>
    `;

    li.appendChild(details);

    details.addEventListener("toggle", async () => {
      if (!details.open) return;

      const embed = details.querySelector(".secondary-embed");
      if (!embed || embed.dataset.loaded === "1") return;

      // Important: only load if the enclosing region is open (your requirement).
      const region = details.closest("details.region");
      if (!region || !region.open) return;

      const status = details.querySelector(".secondary-status");
      const url = embed.dataset.href;

      try {
        status.textContent = "Loading…";
        const htmlText = await fetchText(url);
        const { styles, content } = extractForEmbed(htmlText);

        // Shadow DOM isolates the embedded page's CSS so it doesn't leak into the parent.
        if (embed.attachShadow) {
          const root = embed.attachShadow({ mode: "open" });
          root.innerHTML = `
            <style>
              :host { display: block; }
              /* light reset inside the embedded view */
              body { margin: 0; }
            </style>
            <style>${styles}</style>
            <div class="embedded">${content}</div>
          `;
        } else {
          // Fallback: no isolation (older browsers).
          embed.innerHTML = `<div class="embedded">${content}</div>`;
        }

        embed.dataset.loaded = "1";
        status.textContent = "Loaded.";
      } catch (err) {
        status.textContent = `Failed to load (${url}): ${err.message || err}`;
      }
    });
  }

  function convertRegionSectionsToDetails() {
    document.querySelectorAll("section").forEach(sec => {
      const h3 = sec.querySelector(":scope > h3");
      const ul = sec.querySelector(":scope > ul");
      if (!h3 || !ul) return;

      const title = (h3.textContent || "").trim();
      if (!/^Region\b/i.test(title)) return;

      const details = document.createElement("details");
      details.className = "region";
      if (sec.getAttribute("style")) details.setAttribute("style", sec.getAttribute("style"));

      const summary = document.createElement("summary");
      summary.textContent = title;

      const body = document.createElement("div");
      body.className = "region-body";

      // Move <ul> into the dropdown body.
      body.appendChild(ul);

      details.appendChild(summary);
      details.appendChild(body);

      // Replace the entire section (drops the old h3).
      sec.replaceWith(details);
    });
  }

  async function onRegionOpen(regionDetails) {
  if (regionDetails.dataset.hydrated === "1") return;
  regionDetails.dataset.hydrated = "1";

  // NEW: turn image links into thumbnails (only loads now, on open)
  hydrateImageThumbnails(regionDetails);

  // Keep your existing HTML-inline-preview behaviour (if you still want it)
  const anchors = Array.from(regionDetails.querySelectorAll("a[href]"))
    .filter(isSecondaryLink);

  anchors.forEach(ensureSecondaryPreviewUI);

  if (PRELOAD_ON_REGION_OPEN) { /* unchanged */ }
}


  document.addEventListener("DOMContentLoaded", () => {
    convertRegionSectionsToDetails();

    document.querySelectorAll("details.region").forEach(d => {
      d.addEventListener("toggle", () => {
        if (d.open) onRegionOpen(d);
      });
    });
  });
})();
</script>
</body></html>
